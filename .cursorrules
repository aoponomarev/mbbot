# Правила работы ИИ-агента для проекта

> **ВАЖНО**: Этот файл автоматически читается Cursor в начале каждой сессии. ИИ-агент должен следовать всем правилам, описанным здесь.

## Общая информация о проекте
- **Название проекта**: BOT (Statistics/ToDo)
- **Тип проекта**: Веб-приложение (HTML)
- **Расположение**: `D:\Clouds\AO\OneDrive\Portfolio - CV\Refactoring\ToDo\Statistics\BOT`
- **Репозиторий Git**: Инициализирован, ветка `master`

## Настройки Git
- **Терминал**: Использовать Git Bash (`C:\Program Files\Git\bin\bash.exe`)
- **Команды Git**: Выполнять через полный путь `"C:\Program Files\Git\bin\git.exe"` (из-за проблем с PowerShell)
- **Автор коммитов**: `ao <ponomarev.ux@gmail.com>`
- **Формат коммитов**: Обычные сообщения на русском или английском языке

## Регулярные действия ИИ-агента

### При работе с Git
1. **Перед коммитом**:
   - Проверить статус репозитория
   - Убедиться, что все изменения добавлены в staging
   - Использовать полный путь к git.exe для команд

2. **Создание коммитов**:
   - Использовать понятные сообщения коммитов
   - Группировать логически связанные изменения

3. **Проверка состояния**:
   - Регулярно проверять `git status`
   - Отслеживать чистоту рабочего дерева

### При работе с файлами
1. **HTML файлы**:
   - Использовать минимальную валидную HTML5 разметку
   - Язык по умолчанию: `ru`
   - Кодировка: UTF-8
   - Включать viewport meta для адаптивности

2. **Создание новых файлов**:
   - Проверять наличие файла перед созданием
   - Использовать правильную структуру проекта
   - **Отслеживание ненужных файлов**: Проактивно выявлять и предлагать удаление файлов, которые не используются, являются дубликатами, устаревшими или "болтаются просто так" в проекте. При обнаружении таких файлов - предложить пользователю удалить их для поддержания чистоты проекта

3. **Синхронизация настроек Cursor → VS Code**:

   **Механизм отслеживания изменений:**
   - **Проактивное обновление**: ИИ-агент автоматически обновляет `.vscode/settings.json` когда:
     * Пользователь упоминает изменение настройки в разговоре (например: "изменил тему на темную", "настроил автосохранение")
     * Пользователь устанавливает расширение (автоматически добавляется в `.vscode/extensions.json`)
     * Пользователь добавляет слово в словарь орфографии (автоматически добавляется в `.vscode/cspell-dict.txt`)
     * Пользователь просит изменить настройку проекта
   - **По запросу пользователя**: При явной просьбе синхронизировать настройки (например: "синхронизируй настройки", "обнови конфиг")
   - **При упоминании настроек**: Если пользователь упоминает настройку в контексте работы над проектом - предложить обновить её в `.vscode/settings.json`

   **ВАЖНО**: ИИ-агент НЕ может отслеживать изменения настроек Cursor в реальном времени (непрерывно), так как работает только во время сессий чата. Синхронизация происходит:
   1. Автоматически при упоминании изменений в разговоре
   2. По явной просьбе пользователя
   3. Проактивно при обнаружении несоответствий

   **Что синхронизируется:**
   - Поддерживать совместимость настроек терминала, кодировки, форматирования
   - **Синхронизировать настройки оформления**: тема, расположение панелей, элементы интерфейса, мини-карта, нумерация строк, шрифты, настройки вкладок, breadcrumbs и другие визуальные настройки
   - **Синхронизировать расширения**: при установке расширения в Cursor - **НЕМЕДЛЕННО** добавлять его в `.vscode/extensions.json` как рекомендуемое расширение, указывая правильный идентификатор расширения (например, `"esbenp.prettier-vscode"`)
   - **Синхронизировать настройки редактора**: автодополнение, IntelliSense, Emmet, сниппеты, автозакрытие скобок/кавычек, работа с несколькими курсорами, подсветка кода
   - **Синхронизировать настройки работы с файлами**: автосохранение, горячий выход, ассоциации файлов, исключения для watcher
   - **Синхронизировать настройки поиска**: умный поиск, игнорирование файлов, предпросмотр замены
   - **Синхронизировать настройки Git**: интеграция Git, декорации, timeline, merge editor
   - **Синхронизировать настройки терминала**: стиль курсора, размер шрифта, поведение копирования
   - **Синхронизировать настройки работы с кодом**: code actions, code lens, folding, color decorators
   - **Синхронизировать настройки проверки орфографии**: словари, пользовательские слова, языки проверки, исключения

## Пользовательские предпочтения и просьбы по стилю работы

> **КРИТИЧЕСКИ ВАЖНО**: Этот раздел содержит все просьбы и требования пользователя относительно стиля работы над проектом. ИИ-агент ОБЯЗАН следовать этим правилам во всех сессиях.

### ⚠️ ПРАВИЛО ОБРАБОТКИ ПРОСЬБ "НА БУДУЩЕЕ"
**ОБЯЗАТЕЛЬНО**: Когда пользователь использует фразы типа:
- "на будущее"
- "запомни"
- "в будущем"
- "для будущих сессий"
- "чтобы в следующий раз"
- "на будущее, чтобы"
- или подобные указания на долгосрочное требование

**ИИ-агент ДОЛЖЕН**:
1. **НЕМЕДЛЕННО** распознать это как требование для внесения в настройки
2. **СРАЗУ ЖЕ** обновить раздел "Текущие предпочтения пользователя" в этом файле
3. **ДОБАВИТЬ** запись в "Историю изменений предпочтений" с датой и описанием
4. **ПОДТВЕРДИТЬ** пользователю, что требование зафиксировано

**НЕ ЖДАТЬ** подтверждения пользователя - действовать проактивно!

### Текущие предпочтения пользователя
- Просьбы, отмеченные пользователем как "на будущее" (или подобными фразами), должны **НЕМЕДЛЕННО** заноситься в этот раздел без ожидания подтверждения
- **Синхронизация настроек Cursor → VS Code**: Все настройки, которые применяются в Cursor (терминал, кодировка, форматирование, расширения и т.д.), должны синхронизироваться в файл `.vscode/settings.json` для максимальной совместимости работы над проектом. Синхронизация происходит **проактивно** при упоминании изменений в разговоре, по запросу пользователя или при обнаружении несоответствий. ИИ-агент не может отслеживать изменения непрерывно, но должен быть внимательным к упоминаниям настроек и автоматически обновлять конфигурацию.
- **Синхронизация оформления и интерфейса Cursor → VS Code**: Настройки оформления редактора (тема, расположение панелей, элементы интерфейса, мини-карта, нумерация строк, шрифты, настройки вкладок и т.д.) также должны синхронизироваться в `.vscode/settings.json`, чтобы пользователь попадал в знакомую среду разработки при переключении между Cursor и VS Code
- **Синхронизация расширений (плагинов) Cursor → VS Code**: Когда пользователь устанавливает расширение в Cursor, оно должно **автоматически** добавляться в файл `.vscode/extensions.json` как рекомендуемое расширение, чтобы при открытии проекта в VS Code пользователю предлагалось установить те же расширения для полной совместимости рабочей среды
- **Отслеживание ненужных файлов**: ИИ-агент должен проактивно отслеживать и выявлять файлы, которые не используются, являются дубликатами, устаревшими или "болтаются просто так" в проекте. При обнаружении таких файлов - предлагать пользователю удалить их для поддержания чистоты проекта. Не оставлять файлы "просто так" без явной необходимости.

### История изменений предпочтений
- **2024-12-19**: Добавлено правило об автоматическом занесении просьб "на будущее" в настройки. Пользователь отметил, что все пожелания, которые он отмечает как "на будущее" в тексте, должны восприниматься как требующие внесения в настройки и сразу туда заноситься.
- **2024-12-19**: Добавлено требование синхронизации настроек Cursor → VS Code. Пользователь попросил на будущее настроить синхронизацию всех настроек, которые применяются в Cursor, в файл `.vscode/settings.json` для максимальной совместимости работы над проектом.
- **2024-12-19**: Добавлено требование синхронизации оформления и интерфейса. Пользователь попросил синхронизировать настройки оформления редактора (тема, расположение панелей, элементы интерфейса и прочее) между Cursor и VS Code, чтобы попадать в знакомую среду разработки.
- **2024-12-19**: Изменена тема на светлую (Default Light+). Пользователь предпочитает светлую тему.
- **2024-12-19**: Изменена тема на Quiet Light - светлая тема с приглушенными (muted) цветами для более комфортной работы.
- **2024-12-19**: Изменена тема на GitHub Light - светлая тема с мягкими цветами в стиле GitHub.
- **2024-12-19**: Подключена тема Atom One Light - популярная приглушенная светлая тема (требует расширение akamud.vscode-theme-onelight).
- **2024-12-19**: Синхронизированы настройки VS Code с учетом пользовательских изменений: `workbench.editor.showTabs: "multiple"`, `editor.occurrencesHighlight: "singleFile"`, `workbench.editor.tabActionLocation: "right"`, удалена настройка `workbench.activityBar.visible`.
- **2024-12-19**: Добавлено правило отслеживания ненужных файлов. Пользователь попросил на будущее отслеживать файлы, которые "болтаются просто так" в проекте, и предлагать их удаление для поддержания чистоты проекта.
- **2024-12-19**: Возвращена дефолтная светлая тема (Default Light+). Пользователь отключил тему Atom One Light и вернулся к дефолтной теме.
- **2024-12-19**: Добавлено требование синхронизации расширений. Пользователь попросил, чтобы плагины (расширения), которые добавляются в Cursor, автоматически добавлялись в `.vscode/extensions.json` для VS Code.

---

## Особенности поведения ИИ-агента

### Стиль работы
- **Язык общения**: Русский (по умолчанию)
- **Подход**: Проактивный, но не создавать файлы без явного запроса
- **Документация**: Создавать только по запросу пользователя
- **Обновление конфига**: При получении новых просьб о стиле работы - ОБЯЗАТЕЛЬНО обновлять раздел "Пользовательские предпочтения" в этом файле
- **Обработка просьб "на будущее"**: См. раздел "ПРАВИЛО ОБРАБОТКИ ПРОСЬБ 'НА БУДУЩЕЕ'" выше - это КРИТИЧЕСКИ ВАЖНОЕ правило!

### Технические особенности
- **Терминал**: PowerShell имеет проблемы с командами (искажение команд), использовать Git Bash или полный путь к исполняемым файлам
- **Кодировка файлов**: UTF-8
- **Окончания строк**: CRLF (Windows), но Git настроен на автоматическое преобразование

### Приоритеты
1. Сохранение работоспособности кода
2. Следование лучшим практикам
3. Чистота рабочего дерева Git
4. Валидность HTML разметки

## Структура проекта
```
BOT/
├── index.html          # Главный HTML файл
├── .git/              # Git репозиторий
├── .vscode/           # Настройки VS Code (для совместимости с Cursor)
│   ├── settings.json  # Настройки проекта (синхронизируются с Cursor)
│   ├── extensions.json # Рекомендуемые расширения
│   ├── cspell-dict.txt # Пользовательский словарь для проверки орфографии
│   └── README.md      # Документация по настройкам
└── .cursorrules       # Правила работы ИИ-агента (этот файл)
```

## Заметки для будущих сессий
- Репозиторий настроен корректно для Windows
- Git Bash установлен и доступен
- Первый коммит создан: "Initial commit: add minimal HTML structure"
- Файл `.gitignore` отсутствует (можно добавить при необходимости)

## Рекомендации для улучшения
- [ ] Добавить `.gitignore` для исключения временных файлов
- [ ] Настроить удаленный репозиторий (GitHub/GitLab) при необходимости
- [ ] Добавить структуру проекта (CSS, JS файлы) по мере развития

---
*Файл обновляется по мере развития проекта и изменения требований*

