/* Общие стили layout */

/* Глобально: вертикальная полоса прокрутки всегда видна для предотвращения "дергания" интерфейса */
html {
    overflow-y: scroll;
    /* Запрещаем горизонтальную прокрутку на уровне страницы */
    overflow-x: hidden;
}

/* Глобально: скрываем горизонтальную полосу прокрутки везде, но разрешаем прокрутку через Shift + колесико мыши */
body {
    overflow-x: hidden;
}

/* Глобально: скрываем горизонтальную полосу прокрутки во всех контейнерах */
* {
    /* Для Firefox: скрываем горизонтальную полосу, но оставляем вертикальную */
    scrollbar-width: thin;
}

/* Для Webkit браузеров (Chrome, Safari, Edge): настраиваем полосы прокрутки */
*::-webkit-scrollbar {
    width: 12px;
    height: 0; /* Скрываем горизонтальную полосу прокрутки */
}

*::-webkit-scrollbar-track {
    background: transparent;
}

*::-webkit-scrollbar-thumb {
    background: transparent;
}

/* Стили для таблицы "Компл. дельты" */
.cdh-column {
  color: hsl(200, 44%, 55%);
  font-weight: bold;
}

[data-bs-theme="dark"] .cdh-column {
  color: hsl(200, 50%, 65%);
}

/* ВРЕМЕННО: Скрытие иконок направления сортировки (до лучших времен) */
.for-sorting i {
  display: none !important;
}

/* =========================
   ПЕРЕИСПОЛЬЗУЕМАЯ ФИЧА: УПРАВЛЕНИЕ ВИДИМОСТЬЮ КОЛОНОК ТАБЛИЦЫ ЧЕРЕЗ ВКЛАДКИ
   Используется mixin columnVisibilityMixin для мгновенного переключения видимости колонок
   ========================= */
/* Скрытие колонок через классы colgroup (для структуры) */
col.col-hidden {
  width: auto;
}

/* Скрытие ячеек (th и td) соответствующих скрытым колонкам */
/* Универсальное правило для всех таблиц: любая ячейка с классом col-hidden скрывается */
table th.col-hidden,
table td.col-hidden {
  display: none;
}

/* Восстанавливаем вертикальную полосу прокрутки */
*::-webkit-scrollbar:vertical {
    width: 12px;
}

*::-webkit-scrollbar-thumb:vertical {
    background: hsla(0, 0%, 0%, 0.2);
    border-radius: 6px;
}

*::-webkit-scrollbar-thumb:vertical:hover {
    background: hsla(0, 0%, 0%, 0.3);
}

[data-bs-theme="dark"] *::-webkit-scrollbar-thumb:vertical {
    background: hsla(0, 0%, 100%, 0.2);
}

[data-bs-theme="dark"] *::-webkit-scrollbar-thumb:vertical:hover {
    background: hsla(0, 0%, 100%, 0.3);
}

/* Для контейнеров с горизонтальной прокруткой (например, .table-responsive) - скрываем полосу, но разрешаем прокрутку */
.table-responsive,
[style*="overflow-x"],
[class*="overflow"] {
    overflow-x: auto !important;
    /* Скрываем горизонтальную полосу прокрутки */
    scrollbar-width: thin;
    scrollbar-color: transparent transparent;
}

.table-responsive::-webkit-scrollbar,
[style*="overflow-x"]::-webkit-scrollbar,
[class*="overflow"]::-webkit-scrollbar {
    height: 0; /* Скрываем горизонтальную полосу прокрутки */
}

/* Контейнер основного контента с учетом фиксированных хедера и футера */
/* Хедер фиксированный, высота 50px, нужен отступ сверху */
/* Футер фиксированный, нужен отступ снизу */
.container-fluid.app-main-container {
    padding-top: 60px;
    padding-bottom: 80px;
}

/* Основной контент: центрирование, адаптивность, ограничение ширины */
.avto-K9mP4rT {
    max-width: 1400px;
    margin: 0 auto;
    padding-left: 15px;
    padding-right: 15px;
}

/* Адаптивность для мобильных устройств */
@media (max-width: 576px) {
    .avto-K9mP4rT {
        padding-left: 10px;
        padding-right: 10px;
    }
    
    /* Контейнер основного контента: уменьшаем вертикальные отступы на мобильных */
    .container-fluid.app-main-container {
        padding-top: 50px;
        padding-bottom: 50px;
    }
    
    /* Карточка с числовой таблицей: убираем внешнюю рамку на мобильных */
    .card.for-coinsindicator {
        border: 0;
    }
    
    /* Убираем скругление углов у хедера карточки на мобильных */
    .card.for-coinsindicator > .card-header {
        border-radius: 0px;
    }
}

/* Стили для выпадающего списка поиска монет CoinGecko */
.cg-search-item {
    cursor: pointer;
    transition: background-color 0.15s ease-in-out;
    /* Одинаковый цвет текста и иконок во всех состояниях */
    color: var(--bs-body-color);
}

.cg-search-item:hover {
    background-color: var(--bs-secondary-bg) !important;
    color: var(--bs-body-color);
}

.cg-search-item:active {
    background-color: var(--bs-tertiary-bg) !important;
    color: var(--bs-body-color);
}

.cg-search-item * {
    /* Все элементы внутри (текст, иконки) сохраняют одинаковый цвет */
    color: inherit;
}

/* Подсветка уже добавленных монет в списке поиска (тема-зависимая) */
.cg-search-item-selected {
    background-color: var(--bs-secondary-bg) !important;
    color: var(--bs-body-color);
}

/* Убираем border-bottom у последней строки таблицы */
.table tbody tr:last-child td {
    border-bottom: none !important;
}

/* Уменьшаем padding-bottom у карточки CoinGecko */
.avto-B7fN2kT .card-body {
    padding-bottom: 0.5rem !important;
}

/* Глобально: убираем зазор между низом таблицы и низом карточки */
.card-body > .table-responsive:last-child,
.card-body > .table:last-child {
    margin-bottom: 0 !important;
}

.card-body > .table-responsive:last-child > .table,
.card-body > .table:last-child {
    margin-bottom: 0 !important;
}

/* Кнопка счетчика монет */
.cg-coins-counter {
    width: 2.3rem;
    min-width: 2.3rem;
    height: 2.3rem;
    padding: 0;
    text-align: center;
    display: flex;
    align-items: center;
    justify-content: center;
    position: relative;
    /* Прозрачный фон и рамки для всех состояний */
    background-color: transparent !important;
    border: none !important;
    color: var(--bs-body-color);
}

.cg-coins-counter:hover,
.cg-coins-counter:focus,
.cg-coins-counter:active,
.cg-coins-counter.active {
    background-color: transparent !important;
    border: none !important;
    color: var(--bs-body-color);
    box-shadow: none !important;
}

.cg-coins-counter:disabled {
    background-color: transparent !important;
    border: none !important;
    opacity: 0.5;
}

/* Круговая диаграмма (разорванное кольцо) */
.cg-counter-ring {
    position: absolute;
    width: 100%;
    height: 100%;
    top: 0;
    left: 0;
    pointer-events: none;
}

.cg-counter-ring-bg {
    color: var(--bs-body-color);
}

.cg-counter-ring-progress {
    /* Чистый Primary цвет (синий) без прозрачности */
    color: var(--bs-primary);
}

/* Число на кнопке */
.cg-coins-counter > span {
    position: relative;
    z-index: var(--z-index-overlay);
    font-weight: 600;
}

/* Выравнивание кнопки счетчика с чекбоксами в таблице */
/* Карточка с классом for-coinsindicator: регулируем левый паддинг хедера для выравнивания */
.card.avto-B7fN2kT.for-coinsindicator .card-header {
    /* Левый паддинг для выравнивания кнопки счетчика с центром чекбоксов */
    /* Чекбоксы находятся в первой колонке таблицы (width: 40px) */
    /* Центр чекбокса от левого края карточки: паддинг card-body (1rem) + половина ширины колонки (20px) = 1rem + 20px */
    /* Кнопка находится в начале хедера, центр кнопки от левого края хедера: 1.5em (половина ширины 3em) */
    /* Для выравнивания: padding-left хедера = (1rem + 20px) - 1.8em */
    /* Учитываем, что у хедера уже есть стандартный паддинг Bootstrap, поэтому переопределяем его */
    padding-left: calc(1rem + 20px - 1.8em) !important;
}

/* Кнопка обновления CoinGecko: фиксированная ширина для предотвращения "прыжков" интерфейса */
.cg-update-btn {
    min-width: 3em;
    width: 3em;
}

/* На десктопе: ширина 7em для текста "Обновить" */
@media (min-width: 768px) {
.cg-update-btn {
    min-width: 7em;
    width: 7em;
    }
}

/* Кнопка избранного CoinGecko: фиксированная ширина для мобильных */
.cg-favorites-btn {
    min-width: 3em;
    width: 3em;
}

/* На десктопе: ширина по контенту для текста "Избранное" */
@media (min-width: 768px) {
    .cg-favorites-btn {
        min-width: auto;
        width: auto;
    }
}

/* Скрытие элементов кнопки избранного для адаптивности */
/* На мобильных: скрываем текст, показываем только иконку */
.cg-favorites-btn .button-label {
    display: none;
}

@media (min-width: 768px) {
    /* На десктопе: скрываем иконку, показываем только текст */
    .cg-favorites-btn .button-icon {
        display: none;
    }
    
    .cg-favorites-btn .button-label {
        display: inline;
    }
}

/* Скрытие элементов кнопки обновления для адаптивности */
/* На мобильных: скрываем текст, показываем только иконку */
.cg-update-btn .button-label {
    display: none;
}

@media (min-width: 768px) {
    /* На десктопе: скрываем иконку, показываем только текст */
    .cg-update-btn .button-icon {
        display: none;
    }
    
    .cg-update-btn .button-label {
        display: inline;
    }
}

/* Убираем правый паддинг для кнопки обновления */
.cg-update-btn .button-main {
    padding-right: 0;
}

/* Выделение числа отмеченных монет более контрастным цветом */
.cg-counter-selected {
    /* Используем дефолтный цвет текста Bootstrap, который адаптируется под тему (light/dark) */
    color: var(--bs-body-color);
    font-weight: 600; /* Полужирный для большей контрастности */
}

/* Кнопки в хедерах всех карточек: единый стиль без прозрачности */
.card-header .btn {
    /* Используем цвет secondary для фона (адаптируется под тему) */
    background-color: var(--bs-secondary-bg);
    border-color: var(--color-border);
    color: var(--bs-body-color);
    opacity: 1; /* Убираем любую прозрачность */
}


.card-header .btn:hover:not(:disabled) {
    /* В светлой теме - темнее при наведении */
    background-color: var(--color-button-hover);
    border-color: var(--color-border-hover);
    color: var(--bs-body-color);
}


/* Стиль фокуса для кнопок в хедере карточек наследуется от общего стиля фокуса выше */


.card-header .btn:active:not(:disabled) {
    background-color: var(--bs-secondary-bg);
    border-color: var(--color-border);
    color: var(--bs-body-color);
}


.card-header .btn:disabled {
    background-color: var(--bs-secondary-bg);
    border-color: var(--color-button-disabled);
    color: var(--bs-secondary-color);
    opacity: 0.65; /* Стандартная прозрачность для disabled */
}


/* Текстовые инпуты в хедерах карточек: контрастные рамки как у кнопок */
.card-header .form-control {
    border-color: var(--color-border);
}


/* Стиль фокуса для полей ввода в хедере карточек наследуется от общего стиля фокуса выше */


/* Селекты в хедерах карточек: контрастные рамки и hover эффекты */
.card-header .form-select {
    border-color: var(--color-border);
}


.card-header .form-select:hover {
    /* В светлой теме - темнее при наведении */
    background-color: var(--color-button-hover);
    border-color: var(--color-border-hover);
}


/* Стиль фокуса для селектов в хедере карточек наследуется от общего стиля фокуса выше */


/* Глобальные стили для disabled полей ввода в темной теме */
/* Bootstrap по умолчанию применяет белый фон для disabled элементов, что плохо видно в темной теме */
[data-bs-theme="dark"] .form-control:disabled,
[data-bs-theme="dark"] .form-control[readonly] {
    background-color: var(--bs-secondary-bg) !important;
    color: var(--bs-secondary-color) !important;
    opacity: 0.65;
}

[data-bs-theme="dark"] .form-select:disabled {
    background-color: var(--bs-secondary-bg) !important;
    color: var(--bs-secondary-color) !important;
    opacity: 0.65;
}

[data-bs-theme="dark"] .form-check-input:disabled {
    background-color: var(--bs-secondary-bg) !important;
    opacity: 0.65;
}

/* =========================
   СТАНДАРТНЫЕ РАЗМЕРЫ ЧЕКБОКСОВ
   Все чекбоксы в проекте должны иметь единый стандартный размер 13x13px
   ========================= */
/* Фиксируем стандартные размеры и стили для всех чекбоксов */
/* Обеспечиваем единообразие внешнего вида всех чекбоксов в проекте */
.form-check-input {
    /* Стандартные размеры */
    width: 13px !important;
    height: 13px !important;
    min-width: 13px !important;
    min-height: 13px !important;
    max-width: 13px !important;
    max-height: 13px !important;
    /* Стандартные стили для единообразия */
    border-radius: 0.25rem !important;
    border: 1px solid var(--bs-border-color) !important;
    background-color: var(--bs-body-bg) !important;
    background-image: none !important;
    /* Убираем любые кастомные стили, которые могут перебивать стандартный вид */
    appearance: auto !important;
    -webkit-appearance: checkbox !important;
    -moz-appearance: checkbox !important;
    /* Фиксируем цвет для checked состояния */
    accent-color: var(--bs-primary) !important;
}

/* Состояния чекбокса для единообразия */
.form-check-input:checked {
    background-color: var(--bs-primary) !important;
    border-color: var(--bs-primary) !important;
    background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 20 20'%3e%3cpath fill='none' stroke='%23fff' stroke-linecap='round' stroke-linejoin='round' stroke-width='3' d='M6 10l3 3l6-6'/%3e%3c/svg%3e") !important;
}

.form-check-input:indeterminate {
    background-color: var(--bs-primary) !important;
    border-color: var(--bs-primary) !important;
    background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 20 20'%3e%3cpath fill='none' stroke='%23fff' stroke-linecap='round' stroke-linejoin='round' stroke-width='3' d='M6 10h8'/%3e%3c/svg%3e") !important;
}


/* =========================
   ОБЩИЙ СТИЛЬ ФОКУСА ДЛЯ ПОЛЕЙ ВВОДА И КНОПОК
   Единый дефолтный стиль фокуса для всех интерактивных элементов
   ========================= */

/* Глобальные стили фокуса для всех полей ввода и кнопок (единый стиль, зависит от темы Bootstrap) */
.form-control:focus,
.form-select:focus,
.cmp-button.btn:focus:not(:disabled) {
    /* Обводка и тень фокуса используют цвет темы Bootstrap (--bs-primary) */
    border-color: var(--bs-primary) !important;
    box-shadow: 0 0 0 0.25rem rgba(var(--bs-primary-rgb), 0.25) !important;
    outline: none !important;
}

/* Отключаем тень фокуса для чекбоксов в заголовке таблицы */
th.col-checkbox .form-check-input:focus {
    box-shadow: none;
}

/* =========================
   ЦВЕТИЗАЦИЯ ЧИСЛОВЫХ ЯЧЕЕК (cell-num)
   Автоматическая цветизация всех дочерних <span> элементов на основе знака значения
   ========================= */
/* Применяется к корневому элементу cell-num с классом num-coin-colorize */
/* Все дочерние <span> элементы получают цвет в зависимости от data-value-sign */
.num-coin-colorize[data-value-sign="positive"] > span {
    color: var(--color-success) !important;
}

.num-coin-colorize[data-value-sign="negative"] > span {
    color: var(--color-danger) !important;
}

.num-coin-colorize[data-value-sign="zero"] > span {
    color: var(--color-muted) !important;
}

/* Дополнительно для textarea */
[data-bs-theme="dark"] textarea.form-control:disabled,
[data-bs-theme="dark"] textarea.form-control[readonly] {
    background-color: var(--bs-secondary-bg) !important;
    color: var(--bs-secondary-color) !important;
    opacity: 0.65;
}

/* Цвет всех card-header: более стальной (темнее, в сторону стального серого с легким синеватым оттенком) */
.card-header {
    /* Стальной серый оттенок для светлой темы - темнее и с легким синеватым оттенком */
    background-color: var(--color-card-header);
    /* Увеличенные вертикальные паддинги */
    padding-top: 0.75rem;
    padding-bottom: 0.75rem;
}

[data-bs-theme="dark"] .card-header {
    /* Стальной серый оттенок для темной темы - темнее и с легким синеватым оттенком */
    background-color: var(--color-card-header);
}

/* Глобально для всех выпадающих списков: одинаковый цвет текста и иконок во всех состояниях */
.list-group-item-action {
    /* Дефолтный цвет текста, который не меняется при hover/active */
    color: var(--bs-body-color);
}

.list-group-item-action:hover:not(:disabled),
.list-group-item-action:focus:not(:disabled) {
    /* При hover/focus меняется только фон, цвет текста остается прежним */
    background-color: var(--bs-secondary-bg);
    color: var(--bs-body-color);
}

.list-group-item-action:active:not(:disabled) {
    background-color: var(--bs-tertiary-bg);
    color: var(--bs-body-color);
}

.list-group-item-action:disabled {
    color: var(--bs-secondary-color);
}

/* Иконки в выпадающих списках наследуют цвет текста */
.list-group-item-action i,
.list-group-item-action .fas,
.list-group-item-action .far,
.list-group-item-action .fa {
    color: inherit;
}

/* Исправление бага: подсветка для всех элементов в выпадающем списке счетчика монет */
/* ПРИМЕЧАНИЕ: Стили для .cg-counter-dropdown и .cg-context-menu удалены, */
/* так как эти меню мигрированы на компонент dropdown-menu */

/* Глобально для всех выпадающих меню внутри <main>: единый стиль с более контрастной рамкой и тенью */
/* ПРИМЕЧАНИЕ: Стили для .cg-counter-dropdown, .cg-search-dropdown, .cg-favorites-dropdown, .cg-context-menu */
/* удалены, так как эти меню мигрированы на компонент dropdown-menu */
/* Остался только .cg-coin-sort-dropdown для меню сортировки в header-cell */
main .cg-coin-sort-dropdown {
    /* Z-index для dropdown меню (совпадает с Bootstrap) */
    z-index: var(--z-index-dropdown);
    /* Единый радиус скругления - 2.5px */
    border-radius: 2.5px !important;
    /* Более контрастная рамка */
    border: 1px solid var(--color-border) !important;
    /* Более контрастная тень */
    box-shadow: 0 4px 8px -2px hsla(0, 0%, 0%, 0.15), 0 2px 6px -1px hsla(0, 0%, 0%, 0.1) !important;
}

[data-bs-theme="dark"] main .cg-coin-sort-dropdown {
    /* Более контрастная рамка для темной темы */
    border-color: var(--color-dropdown-border-dark) !important;
    /* Более контрастная тень для темной темы */
    box-shadow: 0 4px 8px -2px hsla(0, 0%, 0%, 0.4), 0 2px 6px -1px hsla(0, 0%, 0%, 0.3) !important;
}

/* Кастомный цвет для бейджей неудачных тикеров (лучшая читабельность на светлом фоне) */
.badge.bg-warning-dark {
    background-color: var(--color-warning-dark) !important;
    color: var(--bs-white) !important;
}

/* Специальный класс для таблицы с монетами - убираем фон у строк и ячеек для видимости перемещения */
.cg-coins-table tbody tr,
.cg-coins-table tbody td {
    background-color: transparent !important;
}

.cg-coins-table thead th {
    background-color: transparent !important;
    white-space: nowrap;
}

/* Колонка с монетами: фиксированная ширина в rem */
.cg-coins-table .col-coin {
    width: 7rem;
    min-width: 7rem;
    max-width: 7rem;
}

/* Ячейки колонки с монетами: запрет переносов и правильный overflow */
.cg-coins-table td.col-coin,
.cg-coins-table th.col-coin {
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
}

/* Внутренний контейнер ячейки монеты: правильный overflow */
.cg-coins-table .col-coin .cg-coin-block {
    overflow: hidden;
    text-overflow: ellipsis;
    min-width: 0;
}

/* Подсветка выбранных строк таблицы с монетами - слабо-слабо прозрачная нейтрально-серовая подсветка */
/* Используем нейтрально-серый цвет (HSL: 0, 0%, 50%) с очень низкой прозрачностью (alpha: 0.05) */
.cg-coins-table tbody tr.coin-row-selected,
.cg-coins-table tbody tr.coin-row-selected td {
    background-color: var(--color-selected-row-bg) !important;
}

/* Перекрываем все состояния (hover, nth-child) для выбранных строк */
.cg-coins-table tbody tr.coin-row-selected:hover,
.cg-coins-table tbody tr.coin-row-selected:hover td,
.cg-coins-table tbody tr.coin-row-selected:nth-child(even),
.cg-coins-table tbody tr.coin-row-selected:nth-child(even) td,
.cg-coins-table tbody tr.coin-row-selected:nth-child(odd),
.cg-coins-table tbody tr.coin-row-selected:nth-child(odd) td {
    background-color: var(--color-selected-row-bg) !important;
}

/* Для темной темы: используем те же параметры для консистентности */
[data-bs-theme="dark"] .cg-coins-table tbody tr.coin-row-selected,
[data-bs-theme="dark"] .cg-coins-table tbody tr.coin-row-selected td,
[data-bs-theme="dark"] .cg-coins-table tbody tr.coin-row-selected:hover,
[data-bs-theme="dark"] .cg-coins-table tbody tr.coin-row-selected:hover td,
[data-bs-theme="dark"] .cg-coins-table tbody tr.coin-row-selected:nth-child(even),
[data-bs-theme="dark"] .cg-coins-table tbody tr.coin-row-selected:nth-child(even) td,
[data-bs-theme="dark"] .cg-coins-table tbody tr.coin-row-selected:nth-child(odd),
[data-bs-theme="dark"] .cg-coins-table tbody tr.coin-row-selected:nth-child(odd) td {
    background-color: var(--color-selected-row-bg) !important;
}

/* Анимация перемещения строк таблицы при сортировке */
.coin-row-item {
    position: relative;
}

.coin-row-move {
    transition: transform 0.3s ease;
    z-index: 100; /* Высокий z-index для отображения поверх таблицы */
    transform: translateZ(0);
    will-change: transform;
    background-color: var(--bs-body-bg) !important; /* Фон для видимости перемещающейся строки */
}

.coin-row-enter-active,
.coin-row-leave-active {
    transition: opacity 0.3s ease, transform 0.3s ease;
    z-index: 100; /* Высокий z-index для отображения поверх таблицы */
    transform: translateZ(0);
    will-change: transform;
    background-color: var(--bs-body-bg) !important; /* Фон для видимости перемещающейся строки */
}

.coin-row-enter-from,
.coin-row-leave-to {
    opacity: 0;
}

[data-bs-theme="dark"] .badge.bg-warning-dark {
    background-color: var(--color-warning-dark) !important;
    color: var(--bs-black) !important;
}

/* Кастомный цвет для текста предупреждений о неудачных тикерах */
.text-warning-dark {
    color: var(--color-warning-dark) !important;
}

[data-bs-theme="dark"] .text-warning-dark {
    color: var(--color-warning-dark) !important;
}

/* Позиционирование панельки загрузки монет - верхний край вровень с верхней границей card-header */
.card-header .cg-loading-panel {
    /* Поднимаем панельку так, чтобы её верх был на уровне верхней границы card-header */
    /* form-control-sm имеет высоту ~31px, используем ex для более точного вертикального позиционирования */
    /* Значение скорректировано: уменьшаем подъем ещё на ~5px для точного выравнивания */
    margin-top: calc(-2.2rem + 0.45ex) !important;
    top: 100% !important;
    /* Должна быть поверх таблицы (у анимируемых строк z-index=100) */
    z-index: var(--z-index-dropdown);
}

/* =========================
   ПЕРЕОПРЕДЕЛЕНИЕ КНОПКИ ЗАКРЫТИЯ BOOTSTRAP (.btn-close)
   Более тонкий крестик для alert-сообщений
   ========================= */

/* Стили для кастомной кнопки закрытия в alert-сообщениях */
/* Обертка для alert-сообщения с кнопкой закрытия */
/* Контейнер для сообщений с flex-раскладкой (только для контейнеров с alert-message) */
.card-body:has(.alert-message-wrapper) {
    display: flex;
    flex-direction: column;
    gap: 1rem;
}

.alert-message-wrapper {
    position: relative;
    width: 100%;
    margin-bottom: 0 !important;
}

/* Убираем нижний отступ у Bootstrap alert внутри обертки */
.alert-message-wrapper .alert {
    margin-bottom: 0;
}

/* Alert внутри обертки */
.alert-message-wrapper .alert {
    position: relative;
}

/* Иконка типа системного сообщения (слева от текста) */
.system-message-type-icon {
    line-height: 1;
    margin-top: 0.05rem;
    opacity: 0.9;
}

/* Обертка для кнопки закрытия */
.alert-close-button-wrapper {
    position: absolute;
    height: 0;
    z-index: 1;
    width: 100%;
}

/* Кастомная кнопка закрытия для alert с использованием компонента button */
.alert-close-button-wrapper .btn-close-custom {
    position: absolute;
    top: 0.5rem;
    right: 0.5rem;
    z-index: 1;
    padding: 0.5rem 0.75rem;
    margin: 0;
    background: transparent;
    border: 0;
    border-radius: 0.375rem;
    opacity: 1;
    transition: opacity 0.15s ease-in-out;
    pointer-events: auto;
}

/* Для alert-dismissible добавляем padding справа для места под кнопку */
.alert-message-wrapper .alert-dismissible {
    padding-right: 3rem;
}

.alert .btn-close-custom:hover {
    opacity: 1; /* Полная непрозрачность при наведении */
}

.alert .btn-close-custom:focus {
    opacity: 1; /* Полная непрозрачность при фокусе */
    outline: 0;
    box-shadow: 0 0 0 0.25rem rgba(13, 110, 253, 0.25);
}

/* Скрываем текст в кнопке закрытия, оставляем только иконку */
.alert .btn-close-custom .button-label {
    display: none !important;
}

/* Убираем стандартный background-image и mask-image Bootstrap */
.btn-close,
.alert .btn-close,
.alert-dismissible .btn-close {
    background-image: none !important;
    background: transparent !important;
    -webkit-mask-image: none !important;
    mask-image: none !important;
    -webkit-mask: none !important;
    mask: none !important;
}

/* Создаем тонкий крестик через ::before */
.btn-close::before,
.alert .btn-close::before,
.alert-dismissible .btn-close::before {
    content: '' !important;
    display: block !important;
    width: 1em !important;
    height: 1em !important;
    background-image: url("data:image/svg+xml;charset=utf8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16'%3E%3Cpath d='M2 2 L14 14 M14 2 L2 14' stroke='%23000' stroke-width='0.5' stroke-linecap='round' fill='none'/%3E%3C/svg%3E") !important;
    background-repeat: no-repeat !important;
    background-position: center !important;
    background-size: 100% 100% !important;
    opacity: 0.5 !important;
}

.btn-close:hover::before,
.alert .btn-close:hover::before,
.alert-dismissible .btn-close:hover::before {
    opacity: 0.75 !important;
}

/* Для маленькой версии кнопки (.btn-close-sm) */
.btn-close-sm::before,
.alert .btn-close-sm::before,
.alert-dismissible .btn-close-sm::before {
    width: 0.75em !important;
    height: 0.75em !important;
}

/* Приглушенные цвета для alert-info и alert-warning в светлой теме */
/* Применяем только когда не находимся в темной теме */
:not([data-bs-theme="dark"]) .alert-info {
    --bs-alert-bg: hsla(199, 89%, 32%, 0.14);
    --bs-alert-border-color: hsla(199, 89%, 35%, 0.3);
    background-color: var(--bs-alert-bg);
    border-color: var(--bs-alert-border-color);
}

:not([data-bs-theme="dark"]) .alert-warning {
    --bs-alert-bg: hsla(50, 100%, 32%, 0.18);
    --bs-alert-border-color: hsla(60, 100%, 35%, 0.4);
    background-color: var(--bs-alert-bg);
    border-color: var(--bs-alert-border-color);
}

/* Цвет крестика соответствует цвету текста сообщения (--bs-alert-color) с полупрозрачностью */
/* Цвет передается из родительского компонента через CSS переменную --alert-close-color */
.alert-message-wrapper .alert-close-button-wrapper .btn-close-custom {
    color: var(--alert-close-color, var(--bs-alert-color, currentColor));
    opacity: 0.6; /* Полупрозрачность */
}

.alert-close-button-wrapper .btn-close-custom:hover {
    opacity: 0.9; /* Менее прозрачный при наведении */
}

/* Адаптивный размер шрифта для alert-сообщений: нормальный на десктопе, уменьшенный на мобильных */
.alert-message-wrapper .alert {
    font-size: 1rem; /* Нормальный размер на десктопе */
}

@media (max-width: 576px) {
    .alert-message-wrapper .alert {
        font-size: 0.875rem; /* Уменьшенный размер на мобильных */
    }
}

