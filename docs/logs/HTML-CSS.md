# Разметка и стили проекта

## Коммит от 21.12.2025 : Fix file counting and restore chart with GitHub data
◆ Убрана линия под последней строкой таблицы в popover типов файлов, добавлен popover при клике на карточку "Файлов". → Добавлен `!important` к правилу `.file-types-custom-popover .table tbody tr:last-child td { border-bottom: none !important; }` для гарантированного удаления линии под последней строкой таблицы в popover. Добавлен `id="files-stat-card"` и `style="cursor: pointer;"` к карточке с числом файлов для возможности открытия popover при клике. Обновлена функция `initFileTypesPopover()` для обработки кликов на обе карточки (диаграмму и карточку с числом файлов), обе показывают один и тот же popover с таблицей типов файлов. Удален неиспользуемый файл `ui/styles/chat.css`. ◉ Улучшение UX через добавление popover на карточку "Файлов" демонстрирует принцип доступности: пользователь может получить детальную информацию из разных точек интерфейса. Удаление визуального шума (линия под последней строкой) улучшает восприятие таблицы.

## Коммит dc67625 от 20.12.2025 : Decouple review pages CSS from main application styles
◆ Полностью отвязаны CSS review-страниц от стилей основного приложения. → Удалены ссылки на `../../ui/styles/layout.css` и `../../ui/styles/icons.css` из всех review-файлов (`r-app.html`, `r-colors.html`, `r-icons.html`, `r-messages.html`). Перенесены все необходимые стили из `layout.css` (системные сообщения, alert-компоненты, кнопки закрытия) и `icons.css` (CSS переменные для иконок, стили material-symbols, Font Awesome, SVG иконки) в `docs/review/r-styles.css`. Стили полностью инкапсулированы в `r-styles.css`, обеспечивая независимость review-страниц от основных стилей приложения. ◉ Полная инкапсуляция стилей review-страниц демонстрирует принцип модульности: review-инструменты не зависят от изменений в основных стилях приложения, что упрощает поддержку и предотвращает конфликты стилей. Независимость review-страниц критична для их использования как автономных инструментов разработки.

## Коммит 8e28b75 от 18.12.2025 : Refine Git workflow rules and header layout
◆ Уточнено позиционирование хедера и подготовлены файлы для будущей HTML/CSS-документации. → Обновлено позиционирование `app-header` в `ui/styles/header.css`. Созданы пустые файлы `html-app.md`, `html-review.md`, `css-app.md`, `css-review.md` для последующего наполнения. ◉ Подготовка структуры для будущей документации демонстрирует проактивный подход к организации знаний: создание файлов заранее определяет направление развития документации и упрощает последующее наполнение. Это заложило основу для систематизации знаний о разметке и стилях проекта в отдельных специализированных документах.

## Коммит 121339b от 17.12.2025 : Refine global system messages UI and coins table dropdown
◆ Доработан глобальный слой системных сообщений и поведение выпадающего меню сортировки монет. → На `index.html` реализован фиксированный глобальный контейнер системных сообщений, приклеенный к нижней границе окна, с фоном 75% чёрного, адаптивными горизонтальными отступами (`px-3` на мобилке, `px-md-5` на десктопе) и принудительной dark‑темой (`data-bs-theme="dark"`). Добавлено нейтральное приветственное `info`‑сообщение в глобальный scope при старте приложения (в качестве заглушки), выводимое через новый слой. Исправлено позиционирование выпадающего меню заголовка колонки монет: устранено обрезание меню границами ячейки за счёт управления `overflow` на `th.col-coin` и корректного использования универсального компонента `dropdown-menu`. ◉ Создан глобальный слой для системных сообщений: фиксированное позиционирование внизу экрана обеспечивает постоянную доступность информации без перекрытия основного контента. Принудительная темная тема для слоя сообщений создает визуальный контраст, подчеркивая важность системных уведомлений. Управление overflow для предотвращения обрезания dropdown демонстрирует внимание к edge cases: интерфейс должен работать корректно во всех контекстах, включая ограниченные пространства таблиц.

## Коммит 2e0b3ec от 17.12.2025 : Review: polish stats UI and icon system
◆ Улучшен внешний вид и UX review‑страниц статистики и иконок. → Актуализирован `review-app.html`: уточнены карточки статистики и диаграмма типов файлов, улучшены подписи и выравнивание таблицы рейтинга файлов. Доработан `ui/assets/review-icons.html`: объединены статусы и индикаторы в секцию **Statuses & Indicators**, секция **Frameworks** переименована и перестроена в **Frameworks & Brands**, удалена устаревшая секция **Other**. Синхронизированы конфигурации иконок (`ui/config/ui-element-mapping.json`, `ui/utils/ui-element-helper.js`) с фактическим использованием в UI. ◉ Реорганизация каталогов демонстрирует эволюцию системы: объединение связанных категорий (статусы и индикаторы) улучшает навигацию, а удаление устаревших секций поддерживает актуальность документации. Синхронизация конфигураций с фактическим использованием показывает принцип "единого источника истины": документация всегда отражает реальное состояние системы, предотвращая расхождения.

## Коммит 16a2e4f от 15.12.2025 : Add alert-message component and review-messages page, fix close button for dark theme
◆ Создан компонент `alert-message.js` - Vue-обертка над Bootstrap alert с кастомной кнопкой закрытия, создана страница `review-messages.html` с примерами сообщений в светлой и темной теме, исправлен крестик закрытия для корректной работы в темной теме. → Создан `ui/components/alert-message.js` с props: type, dismissible, small, show, customClass. Компонент управляет своей видимостью через внутреннее состояние `showAlert` при `dismissible=true`. Создан `ui/interaction/review-messages.html` с двумя карточками: Light Theme и Dark Theme. В шаблонах `alert-message-template` и `alert-message-template-review` заменен `cmp-button` на обычную кнопку с inline SVG крестиком. SVG использует `stroke="currentColor"` для наследования цвета от родителя. Добавлены стили в `layout.css`: приглушенные цвета для alert-info и alert-warning, flex-раскладка с gap для контейнера сообщений. Цвет крестика использует `var(--bs-body-color)` для автоматической адаптации к теме ближайшего родителя. Удалены все блоки `#region agent log` и fetch запросы из `button.js` и `alert-message.js`. Добавлено ограничение `max-width: 1024px` для `.container-fluid` в `review-styles.css`. Обновлена документация в `architect.md` и `ui/guide-ii.md`. ◉ Создан переиспользуемый компонент для системных сообщений: инкапсуляция логики отображения и закрытия в отдельном компоненте упрощает использование во всех частях приложения. Использование `currentColor` для SVG демонстрирует подход к адаптивности: иконка автоматически наследует цвет текста, обеспечивая визуальную согласованность без дополнительных стилей. Приглушенные цвета для alert-сообщений показывают баланс между заметностью и навязчивостью: информация важна, но не должна доминировать в интерфейсе.

## Коммит 292108b от 15.12.2025 : Header: fix theme inheritance and remove tooltips
◆ Удалены все tooltips из хедера приложения, зафиксирована темная тема для всех элементов хедера (не реагируют на переключение темы приложения), оптимизировано наследование темы, добавлена иконка `fas fa-coins` к пункту меню "Стейблкоины". → Удален метод `initTooltips()` и все связанные с tooltips код из `ui/interaction/header.js`. Удалены атрибуты `title` из шаблона хедера и компонента `horizon-input`. Добавлен `data-bs-theme="dark"` к элементу `<header>` в шаблоне хедера. Удалены явные `data-bs-theme="dark"` из дочерних элементов (dropdown меню, horizon-input). Обновлена логика `themeAttribute` в `dropdown-menu.js`: для dropdown в хедере (по instanceId) всегда возвращается 'dark'. Добавлена команда "stablecoins" с иконкой `fas fa-coins` в `ui-element-mapping.json` и встроенное содержимое в `ui-element-helper.js`. Обновлена документация в `architect.md` и `ui/guide-ii.md` о встроенном содержимом системы иконок. ◉ Изоляция хедера в темной теме создает визуальную границу между навигационным слоем и контентом, подчеркивая его роль как управляющего элемента. Удаление tooltips демонстрирует принцип минимализма: если элементы интерфейса интуитивно понятны, дополнительные подсказки избыточны. Автоматическое наследование темы через каскадность CSS показывает эффективное использование возможностей фреймворка: один атрибут на корневом элементе управляет всей поддеревом, упрощая поддержку.

## Коммит bf49b92 от 15.12.2025 : Review: fix table headers order
◆ Исправлен порядок заголовков в таблицах review-файлов (иконки и цвета). → Изменен порядок добавления элементов в `thead`: сначала заголовок секции (`headerRow`), затем заголовки колонок (`headerTr`). Обновлены функции `renderSectionTable` в `ui/assets/review-icons.html` и `ui/styles/review-colors.html`. Заголовок секции теперь находится внутри `thead` перед заголовками колонок. ◉ Правильная семантическая структура таблиц (заголовок секции перед заголовками колонок) улучшает доступность и SEO: скринридеры и поисковые системы корректно интерпретируют иерархию данных. Это демонстрирует внимание к стандартам разметки, выходящим за рамки визуального оформления.

## Коммит 1d99d70 от 15.12.2025 : Mobile: adaptive spacing and coin column styles
◆ Добавлены адаптивные стили для мобильных устройств: обнуление горизонтальных отступов через Bootstrap утилиты, установлена фиксированная ширина колонки с монетами (7rem) с запретом переносов и правильным overflow. → Добавлены Bootstrap классы `px-0` для обнуления горизонтальных отступов на мобильных: `app-main-container`, `main`, обертка карточки с монетами (`col-12 mb-4`). Добавлен адаптивный класс `px-0 px-md-2` для `app-main-container`: обнуление на мобильных, восстановление на десктопе. Добавлены медиа-запросы для мобильных: уменьшение вертикальных отступов `app-main-container` до 50px, обнуление рамки и скругления карточки с монетами. Добавлены стили для колонки монет: фиксированная ширина 7rem, запрет переносов (`white-space: nowrap`), правильный overflow (`overflow: hidden`, `text-overflow: ellipsis`). Добавлены стили для внутреннего контейнера ячейки монеты: `min-width: 0` для корректной работы overflow в flex-контейнере. Обновлен раздел "Адаптивность" в `ui/guide-ii.md`: добавлен подраздел "Адаптивные отступы (Spacing)" с обязательным требованием использования Bootstrap утилит и ссылками на документацию. ◉ Агрессивная оптимизация пространства на мобильных устройствах (обнуление отступов, уменьшение вертикальных паддингов) демонстрирует приоритет контента над декоративными элементами: каждый пиксель экрана используется для отображения данных. Фиксированная ширина колонки монет с правильным overflow показывает баланс между читаемостью и компактностью: длинные названия обрезаются, но структура таблицы остается стабильной. Документирование подхода к адаптивным отступам заложило стандарт для будущей разработки: использование Bootstrap утилит становится обязательным требованием, обеспечивая консистентность.

## Коммит 197b5fb от 15.12.2025 : Review: minor style updates
◆ Обновлены стили review-файлов. → Внесены незначительные изменения в `review-app.html` и `ui/review-styles.css`. ◉ Постоянная полировка review-системы демонстрирует внимание к качеству инструментов разработки: консистентность стилей в документации и каталогах улучшает восприятие проекта как целостной системы.

## Коммит 4446d3e от 14.12.2025 : Fix dropdown menu opening issue and remove debug logging
◆ Исправлена проблема с открытием выпадающего меню кнопки "Избранное" и удалено отладочное логирование. → Добавлен флаг `isTogglingFavorites` в `ui/components/header-coins.js` для предотвращения двойной обработки события `toggle-favorites-dropdown`. Убран модификатор `@click.stop` из шаблона `cmp-button` в `index.html`, так как `stopPropagation()` теперь вызывается явно в обработчике. Добавлен явный вызов `event.stopPropagation()` в методе `handleToggleFavoritesDropdown` для предотвращения всплытия события. Добавлена задержка 100ms перед сбросом флага `isTogglingFavorites` для предотвращения повторной обработки события. Модифицирован метод `fetchCoinGecko()` в `ui/api/coingecko.js` (теперь `ui/api/coins-manager.js`) для фильтрации `selectedCoinIds` на основе вновь загруженных монет вместо полной очистки массива - это сохраняет состояние выбранных чекбоксов для монет, которые остаются в списке после обновления. Модифицирован метод `handleClick()` в `ui/components/button.js` для передачи нативного объекта события как первого аргумента в `$emit('click')`. Добавлен явный вызов `event.stopPropagation()` в `handleClick()` для предотвращения всплытия события. Удалены все блоки `#region agent log` из `ui/components/button.js`, `ui/components/header-coins.js`, `ui/api/coingecko.js` (теперь `ui/api/coins-manager.js`), `ui/components/dropdown-menu.js`. ◉ Флаг защиты от двойной обработки событий демонстрирует внимание к race conditions: асинхронные операции могут создавать ситуации, когда обработчик вызывается несколько раз, и явная защита предотвращает непредсказуемое поведение. Сохранение состояния чекбоксов при обновлении данных показывает принцип сохранения пользовательского контекста: выбор пользователя не теряется при автоматическом обновлении, создавая ощущение стабильности интерфейса. Удаление отладочного кода демонстрирует поддержание чистоты кодовой базы: production-код не должен содержать временные инструменты разработки.

## Коммит 29eefa9 от 14.12.2025 : Fix header checkbox deselection and optimize header-coins component
◆ Исправлена проблема с снятием выбора всех элементов через верхний чекбокс в заголовке таблицы, оптимизирован компонент `header-coins` для улучшения производительности и читаемости кода. → Добавлена защита от неправильных аргументов в методе `handleToggleAll()` в `ui/components/table-data.js`: если первый параметр `checked` является объектом события (а не boolean), аргументы нормализуются: `event` становится `checked`, а `checked` извлекается из `event.target.checked`. Это предотвращает повторный выбор всех монет при двойном вызове обработчика с неправильными аргументами. Методы `getRemainingTickersCount()` и `getRemainingTickersDisplay()` перенесены в computed свойства `remainingTickersCount` и `remainingTickersDisplay` для улучшения производительности. Обновлен шаблон в `index.html`: вызовы методов заменены на computed свойства. Создан вспомогательный метод `_getFavoriteCoinData()` для устранения дублирования логики проверки типа в методах `getFavoriteCoinId()`, `getFavoriteCoinName()`, `getFavoriteCoinSymbol()`. Убраны неиспользуемые параметры из методов `handleToggleFavoritesDropdown()` и `handleFetchCoins()`. Магическое число `100` вынесено в константу `TOGGLE_FAVORITES_DELAY` с комментарием. Исправлено несоответствие в `emits`: добавлено событие `'remove-favorite-from-favorites'`, удалено неиспользуемое `'remove-selected-coins'`. ◉ Нормализация аргументов обработчиков событий демонстрирует защитное программирование: код устойчив к различным способам вызова, предотвращая баги от непредвиденных сценариев использования. Миграция методов в computed свойства показывает оптимизацию производительности Vue: вычисления кэшируются и пересчитываются только при изменении зависимостей, а не при каждом рендере. Устранение дублирования через вспомогательные методы и вынос магических чисел в константы демонстрирует принципы чистого кода: читаемость и поддерживаемость улучшаются через явные абстракции.

## Коммит 33db2d4 от 14.12.2025 : Fix window.uiElementHelper access in Vue templates and restore icons catalog
◆ Исправлена проблема с доступом к `window.uiElementHelper` в шаблонах Vue, восстановлен каталог иконок и документация из коммита b04fb21. → Восстановлен файл `ui/assets/icons-review.html` - интерактивный каталог всех иконок проекта. Восстановлен файл `ui/assets/icons/icon-cross.svg` - SVG иконка крестика. Восстановлены обновления в `ui/config/ui-element-mapping.json` с командами для иконки крестика. Восстановлены обновления в `ui/styles/icons.css` со стилями для SVG иконки крестика. Восстановлены обновления в `ui/utils/ui-element-helper.js` с функциями для работы с SVG иконками. Восстановлены обновления документации в `architect.md` и `ui/guide-ii.md` про каталог иконок. Добавлены computed свойства в `ui/components/button.js`: `uiElementHelper()` - безопасный доступ к `window.uiElementHelper`, `isSVGIcon()` - проверка, является ли иконка SVG, `svgIconPath()` - путь к SVG иконке. Добавлены computed свойства в `ui/components/menu-item.js`: `uiElementHelper()`, `isSVGIcon()`, `svgIconPath()`. Обновлены шаблоны в `index.html`: в шаблоне `button-template` заменены прямые обращения `window.uiElementHelper.isSVGIcon()` и `window.uiElementHelper.getSVGIconPath()` на computed свойства `isSVGIcon` и `svgIconPath`, в шаблоне `menu-item-template` заменены прямые обращения на computed свойства. ◉ Использование computed свойств для доступа к глобальным объектам демонстрирует правильный паттерн работы Vue с внешними зависимостями: реактивность и безопасность доступа обеспечиваются через абстракцию, а не прямые обращения. Это заложило принцип изоляции компонентов от глобального контекста, улучшая тестируемость и предсказуемость поведения. Восстановление каталога иконок показывает важность инструментов разработки: документация и инвентаризация визуальных элементов критичны для поддержания консистентности дизайн-системы.

## Коммит d396ac1 от 13.12.2025 : Adjust dropdown shadows and selected row highlight color
◆ Настроены тени выпадающих меню (шире, ниже, более легкая рамка) и цвет подсветки выбранных строк таблицы. → Обновлены тени для всех вариантов выпадающих меню (базовый контейнер, инверсная тема для светлой и темной темы): основная тень `0 8px 16px -4px` → `0 12px 20px -4px` (еще ниже), дополнительная тень `0 4px 12px -2px` → `0 6px 14px -2px` (еще ниже), рамка (1px тень): прозрачность уменьшена с `0.1` до `0.05` для светлой темы, с `0.3` до `0.15` для темной темы (более легкая). Обновлен цвет подсветки выбранных строк таблицы в `ui/styles/theme-colors.css`: `--color-selected-row-h`: `210` → `200` (синий оттенок), `--color-selected-row-s`: `5%` → `20%` (насыщенность), `--color-selected-row-l`: `0%` → `50%` (яркость), `--color-selected-row-alpha`: `0.02` → `0.05` (5% прозрачности), итоговый цвет: `hsl(200deg 20% 50% / 5%)`. ◉ Многослойные тени создают эффект глубины и отделения выпадающих меню от фона, улучшая восприятие их как отдельного интерактивного слоя. Уменьшение прозрачности рамки демонстрирует тонкую настройку визуального баланса: элемент остается заметным, но не доминирует в интерфейсе. Нейтральный серый с легким синеватым оттенком для подсветки строк показывает подход к ненавязчивому выделению: цвет достаточно заметен для идентификации, но не отвлекает от основного контента.

## Коммит 5673829 от 13.12.2025 : Improve dropdown menu spacing and styling
◆ Улучшена стилизация выпадающих меню и элементов формы: отрицательный гэп между пунктами меню, видимые divider, улучшена стилизация фокуса для чекбоксов и полей ввода. → Добавлен отрицательный гэп `-0.5rem` между пунктами меню для более компактного вида. Настроены стили divider: `padding-top: 1rem`, `margin: 0.5rem 1rem calc(-1rem - 1px) 1rem` для правильного позиционирования и просвечивания через фон пунктов. Divider сделан видимым с `opacity: 0.7` и просвечивает через прозрачный фон пунктов меню (`background-color: transparent`). Восстановлена подсветка при наведении через `var(--color-focus-bg)` для более прозрачной подсветки. Убран класс `my-0` из divider в `index.html` (перебивал стили). Убран autofocus с последующим blur в `dropdown-menu.js` для предотвращения выделения первого пункта. Убраны все кастомные стили фокуса для чекбоксов, возвращены дефолтные Bootstrap стили (скругленные фокусные рамки). Добавлены глобальные стили фокуса для всех полей ввода (`.form-control:focus`, `.form-select:focus`) с светло-синей обводкой `hsl(210, 100%, 50%)`. Отключена тень фокуса для чекбоксов в заголовке таблицы (`th.col-checkbox .form-check-input:focus { box-shadow: none; }`). ◉ Отрицательный гэп между пунктами меню демонстрирует продвинутый подход к управлению пространством: визуально элементы ближе друг к другу, но сохраняют достаточную область касания. Просвечивающие divider через прозрачный фон показывают внимание к визуальной глубине: элементы воспринимаются как отдельные слои, улучшая иерархию интерфейса. Возврат к нативным Bootstrap стилям для чекбоксов демонстрирует принцип минимального вмешательства: стандартные стили библиотеки обеспечивают доступность и знакомый UX без необходимости кастомизации.

## Коммит 10e5000 от 13.12.2025 : Refactor icons system to ui-element-helper with button component and split tooltips
◆ Переименована система иконок в систему UI‑элементов (`ui-element-helper`), создан универсальный компонент кнопки, реализованы раздельные tooltips и перевод кнопок хедера на новый компонент. → Переименование иконок: `icons-mapping.json` → `ui-element-mapping.json`, `icons-helper.js` → `ui-element-helper.js`, `window.iconsHelper` → `window.uiElementHelper`, удалены старые файлы после миграции. Создан компонент `ui/components/button.js` с поддержкой вариантов Bootstrap, раздельных tooltips и состояния загрузки, добавлен `ui/styles/button.css` для переноса паддингов на дочерние элементы. Обновлён `menu-item.js` под `ui-element-helper`, перенесены паддинги и раздельные tooltips на `.menu-item-main` и `.menu-item-indicator`. В `ui/styles/dropdown.css` и `ui/styles/layout.css` обновлены стили кнопок и пунктов меню, добавлены правила адаптивного скрытия текста/иконок и стили для disabled‑состояний. Кнопки хедера переведены на `cmp-button`, добавлен `updateButtonLoadingText` в `header-coins.js` для отображения количества монет при загрузке, исправлена логика скрытия основного текста при `loadingText`. Удалены Bootstrap‑tooltips (атрибуты `data-bs-toggle`, `data-bs-theme` и связанные CSS), остались только браузерные подсказки через `title`. ◉ Эволюция системы иконок в систему UI-элементов демонстрирует масштабируемость архитектуры: расширение функциональности без изменения базовых принципов. Универсальный компонент кнопки заложил основу для стандартизации всех интерактивных элементов: единый API и поведение упрощают поддержку и обеспечивают визуальную согласованность. Раздельные tooltips показывают внимание к деталям UX: разная информация для основного элемента и индикатора улучшает информативность без перегрузки интерфейса.

## Коммит b04fb21 от 13.12.2025 : Update icons catalog and documentation
◆ Создан интерактивный каталог иконок проекта с табличным форматом и интеграцией `ui-element-helper.js`. → Создан файл `ui/assets/icons-review.html` - интерактивный каталог всех иконок проекта. Реализована интеграция с `ui-element-helper.js` для динамической загрузки данных из `ui-element-mapping.json`. Табличный формат отображения: колонки Команды, Иконка, Идентификатор, Файл/Источник. Группировка иконок по категориям (Actions, Navigation, Status, Metrics, Frameworks, Other, Indicators) с заголовками секций. Фильтрация по типу иконки, категории и поиск. Автоматическое определение использования иконок в компонентах. Полупрозрачное отображение неиспользуемых иконок. Выпадающие списки для множественных команд и мест применения. Поддержка всех типов иконок: Font Awesome, SVG файлы, inline SVG, data URI, bitmap. Восстановлена видимость иконок чекбоксов и dropdown-arrow через inline SVG с черным цветом. Компактное отображение: убраны лишние отступы, уменьшены line-height, пояснения в скобках вынесены в tooltips. ◉ Создан инструмент для инвентаризации и управления визуальными элементами проекта: каталог иконок служит как документация, так и инструмент разработки, позволяя быстро находить и переиспользовать существующие иконки. Автоматическое определение использования демонстрирует подход к отслеживанию зависимостей: визуальная индикация неиспользуемых иконок помогает поддерживать чистоту кодовой базы. Поддержка всех типов иконок показывает универсальность системы: единый интерфейс для работы с разными источниками визуальных элементов.

## Коммит 28d980b от 12.12.2025 : Add colorization, rounding features and color adjustments to cell-num
◆ Добавлена автоматическая цветизация числовых ячеек на основе знака значения, обновлены цвета danger и success, добавлены функции округления до 0.5, округления больших чисел до целых и префикс "~" для округленных до 0. → Добавлен prop `colorize: Boolean` в компонент `cell-num.js` для включения автоматической цветизации. Добавлены computed свойства `colorizeClass()` и `colorizeDataAttr()` для определения знака значения (positive/negative/zero). Добавлены CSS правила в `ui/styles/layout.css` для применения цветов к дочерним `<span>` элементам через селекторы `[data-value-sign="positive"]`, `[data-value-sign="negative"]`, `[data-value-sign="zero"]`. Добавлены CSS переменные `--color-danger`, `--color-success`, `--color-muted` в `ui/styles/theme-colors.css` для обеих тем (light и dark). Обновлен цвет `--color-danger` на HSL(340, 100%, 40%) для светлой темы и HSL(340, 100%, 60%) для темной темы (малиновый оттенок). Обновлен цвет `--color-success` на HSL(90, 100%, 30%) для светлой темы и HSL(90, 100%, 60%) для темной темы (салатовый оттенок). Добавлен флаг `colorize: true` во все числовые колонки (процентные и CD) в конфигурации `tableColumns` в `coingecko.js`. Добавлена логика жирного шрифта для целой части положительных чисел >= 1 при включенной цветизации через класс `fw-bold`. Добавлен prop `roundToHalf: Boolean` в компонент `cell-num.js` для округления до 0.5 (0.0, 0.5, 1.0, 1.5 и т.д.). Обновлен метод `applyRounding()` для поддержки `roundToHalf` с формулой `Math.round(value * 2) / 2`. Добавлено computed свойство `effectivePrecision()` для определения эффективной точности с учетом `roundToHalf` и больших чисел. Для чисел с абсолютным значением >= 10 автоматически используется `precision: 0` (округление до целых). Обновлены computed свойства `hasFractionPart()` и `fractionPart()` для использования `effectivePrecision`. Добавлена логика в `numberPrefix()` для автоматического добавления префикса "~" если значение округлилось до 0 (но изначально не было 0). Добавлен флаг `roundToHalf: true` во все числовые колонки (процентные и CD) в конфигурации `tableColumns` в `coingecko.js`. Обновлен метод `formatDecimal()` для использования `effectivePrecision`. Добавлено computed свойство `tooltipText()` в `cell-num.js` для определения текста всплывающей подсказки. Если значение округлилось до 0 (но изначально не было 0), в tooltip показывается точное исходное значение. Обновлен шаблон `cell-num-template` в `index.html` для использования `tooltipText` вместо `showTooltip ? value : null`. ◉ Реализована семантическая визуализация данных через цветизацию: положительные/отрицательные значения получают соответствующие цвета, создавая мгновенное визуальное понимание направления изменений без чтения чисел. Адаптивное округление (до 0.5 для малых значений, до целых для больших) оптимизирует читаемость, сохраняя релевантную точность для каждого диапазона. Префикс "~" с показом точного значения в tooltip демонстрирует принцип прозрачности: пользователь видит упрощенное представление, но может получить детали по запросу, балансируя между читаемостью и точностью.

## Коммит 78fbf79 от 12.12.2025 : Add cell-coin component and favorites system for coins
◆ Создан переиспользуемый компонент `cell-coin.js` для отображения монет в ячейках таблицы, добавлена система избранного для монет с интеграцией в контекстное меню. → Создан компонент `ui/components/cell-coin.js` с props: `iconUrl`, `ticker`, `fullName`, `coinId`, `cssClasses`. Добавлен x-template `#cell-coin-template` в `index.html` с разметкой для иконки и тикера монеты. Компонент эмитит событие `context-menu` при клике и контекстном меню (ПКМ) для интеграции с родительским компонентом. Зарегистрирован компонент в `app/app-ui-root.js` как `cell-coin`. Заменен `<div class="cg-coin-block">` на `<cell-coin>` в `table-data-template` для использования нового компонента. Полное название монеты отображается во всплывающей подсказке через атрибут `title`. Поддержка кастомизации через объект `cssClasses` с классами для `cell`, `icon`, `ticker`. Добавлено реактивное свойство `favoriteCoinIds` в `data()` компонента `coingecko.js` с загрузкой из `localStorage` под ключом `cgFavoriteCoinIds`. Добавлены методы `isFavorite(coinId)` для проверки статуса избранного и `toggleFavorite(coinId)` для переключения статуса. Метод `toggleFavorite` сохраняет изменения в `localStorage` и закрывает контекстное меню после переключения. Добавлен пункт "В избранное/Убрать из избранного" в контекстное меню монет в `index.html`. Пункт меню отображается с динамической иконкой звездочки (`fa-star`) с цветом `text-warning` для избранных и `text-muted` для не избранных. Текст пункта меню динамически меняется в зависимости от статуса избранного. ◉ Создан переиспользуемый архитектурный паттерн компонента ячейки: `cell-coin` инкапсулирует логику отображения монеты, обеспечивая единообразие во всех контекстах использования. Система избранного демонстрирует персистентное хранение пользовательских предпочтений: состояние сохраняется между сессиями, создавая персонализированный опыт работы с приложением. Интеграция через события (`context-menu`) показывает подход к слабой связанности компонентов: родительский компонент управляет логикой, дочерний отвечает только за представление.

## Коммит 77d85be от 11.12.2025 : Remove manual row movement, add Open command for Bybit
◆ Удалена функциональность ручного перемещения строк в контекстном меню, добавлена команда "Открыть" для открытия торговой пары монеты на Bybit в новой вкладке. → В `index.html` удалены кнопки "В начало", "Вверх", "Вниз", "В конец" из контекстного меню. Добавлена кнопка "Открыть" с иконкой `fa-external-link-alt`. В `ui/api/coingecko.js` удален метод `moveToPosition()`. Добавлен метод `openCoinOnBybit()`: находит монету по `contextMenuCoin`, формирует ссылку по шаблону `https://www.bybit.com/trade/usdt/{тикер}USDT`, открывает ссылку в новой вкладке через `window.open(url, '_blank')`, обрабатывает ошибки при отсутствии монеты или тикера. В `ui/config/icons-mapping.json` удалены записи о перемещении (move-to-start, move-up, move-down, move-to-end) из категории navigation. Добавлена запись "open-external" с иконкой `fa-external-link-alt` в категорию actions. ◉ Упрощение контекстного меню демонстрирует принцип фокусировки на наиболее используемых функциях: удаление редко используемого перемещения строк упрощает интерфейс, а добавление команды "Открыть" интегрирует приложение с внешним сервисом (Bybit), расширяя функциональность без усложнения UI. Автоматическое формирование ссылки по шаблону показывает подход к интеграции: пользователь получает прямой доступ к торговой паре без ручного ввода URL.

## Коммит f0faaf1 от 11.12.2025 : Change selected rows highlight color to greenish-cyan
◆ Изменен цвет подсветки выбранных строк таблицы на зеленовато-бирюзовый оттенок, удалены стили фиксированной ширины колонок таблицы. → В `ui/styles/theme-colors.css` добавлена переменная `--color-selected-h: 170` для оттенка подсветки выбранных строк (зеленовато-бирюзовый, между голубым и зеленым). Переменная определена для светлой и темной темы. В `ui/styles/layout.css` изменена подсветка выбранных строк: заменено `var(--color-primary-h)` (208 - синий) на `var(--color-selected-h)` (170 - зеленовато-бирюзовый), изменен lightness с 50%/60% на 40% для обеих тем. Теперь используется `hsla(var(--color-selected-h), 100%, 40%, 0.05)` для консистентности в обеих темах. Удалены стили фиксированной ширины колонок таблицы `.cg-coins-table` (table-layout, width, фиксированные ширины колонок) - таблица теперь использует автоматическую раскладку Bootstrap. ◉ Выбор зеленовато-бирюзового оттенка для подсветки демонстрирует семантический подход к цвету: зеленый ассоциируется с выбором и активностью, создавая интуитивно понятную визуальную обратную связь. Переход на автоматическую раскладку колонок показывает доверие к адаптивным возможностям Bootstrap: таблица автоматически подстраивается под контент, обеспечивая оптимальное использование пространства без ручной настройки.

## Коммит 897cec7 от 11.12.2025 : Add centralized color and z-index system with HSL/HSLA model
◆ Создана централизованная система управления цветами и z-index слоями через CSS переменные, все хардкодные значения заменены на переменные, оптимизированы цвета (primary более приглушенный), исправлены цвета индикатора дуги и гамбургера. → Создан файл `ui/styles/theme-colors.css` с HSL/HSLA переменными для всех цветов темы. Primary цвет сделан более приглушенным и мягким (светлая тема: h: 208, s: 12%, l: 42%; темная тема: h: 208, s: 10%, l: 58%). Объединены дубликаты в темной теме (--color-border, --color-border-hover, --color-button-disabled используют общую переменную --color-neutral-gray). Добавлены общие переменные для переиспользования (--color-theme-h, --color-muted-s, --color-light-gray-l). Создан файл `ui/styles/z-index.css` с переменными для всех z-index слоев, связанными с Bootstrap переменными. Все z-index значения заменены на переменные: --z-index-dropdown, --z-index-splash, --z-index-overlay, --z-index-footer, --z-index-header. В `ui/styles/layout.css` заменены все хардкодные цвета (hex, rgba) на HSL/HSLA переменные из theme-colors.css. Индикатор дуги чекнутых монет теперь использует цвет чекнутых чекбоксов через `var(--bs-form-check-input-checked-border-color, var(--bs-form-check-input-checked-bg-color, var(--bs-primary)))`. В `ui/styles/header.css` гамбургер использует цвет текста хедера через `var(--color-header-text)`. Все rgba заменены на hsla. В `ui/styles/footer.css`, `ui/styles/splash.css`, `ui/styles/dropdown.css` все rgba заменены на hsla. В `index.html` убраны inline z-index из dropdown меню (теперь используется CSS класс), SVG иконки используют `currentColor`, иконки Vue и Bootstrap вынесены в CSS классы в footer.css. В `ui/interaction/footer.js` цвета иконок фреймворков вынесены в CSS (HSL формат). ◉ Установлена централизованная система управления визуальными параметрами через CSS-переменные: HSL/HSLA модель обеспечивает гибкость настройки цветов (изменение насыщенности, яркости без изменения оттенка), а централизация z-index предотвращает конфликты слоев. Удаление всех хардкодных значений демонстрирует принцип единой точки истины: все стили управляются через переменные, упрощая глобальные изменения темы. Использование `currentColor` для SVG иконок показывает подход к адаптивности: иконки автоматически наследуют цвет текста, обеспечивая согласованность с темой без дополнительных стилей.

## Коммит ddb24d2 от 11.12.2025 : Add centralized icon system as architectural principle
◆ Создана централизованная система управления иконками через декларативную конфигурацию (JSON) и стили через CSS переменные, зарутованные от Bootstrap. Система задокументирована как архитектурный принцип проекта. → Создан файл `ui/config/icons-mapping.json` с соответствиями иконок и команд, разделенными по категориям (actions, navigation, status, metrics, frameworks, other). Для каждой иконки указаны: icon (CSS класс Font Awesome), title (подсказка), description (описание). Создан файл `ui/styles/icons.css` с CSS переменными для цветов иконок, зарутованными от Bootstrap переменных (`--bs-body-color`, `--bs-primary`, `--bs-secondary` и т.д.). Определены стили для всех категорий иконок, hover и disabled состояний. Цвета иконок фреймворков (Vue.js, Bootstrap) определены через HSL переменные. Создана утилита `ui/utils/icons-helper.js` с функциями для получения иконок по категориям: `getActionIcon()`, `getNavigationIcon()`, `getStatusIcon()`, `getMetricIcon()`, `getFrameworkIcon()`, `getOtherIcon()`, `getThemeIcon()`, `getIconTitle()`, `getIconDescription()`, `getFrameworkColor()`. Утилита асинхронно загружает JSON файл соответствий. В `index.html` подключен `ui/styles/icons.css` и `ui/utils/icons-helper.js`. В `ui/styles/footer.css` убраны прямые HSL значения для иконок фреймворков, теперь используются переменные из `icons.css`. ◉ Создана архитектурная система управления визуальными элементами: декларативная конфигурация через JSON обеспечивает единую точку истины для всех иконок, упрощая добавление новых и поддержку существующих. Интеграция стилей через CSS-переменные, зарутованные от Bootstrap, гарантирует автоматическую адаптацию к темам без дублирования кода. Система оформлена как фундаментальный принцип проекта, наравне с цветовой моделью и z-index, демонстрируя подход к масштабируемому дизайн-системе.

## Коммит cc8d181 от 10.12.2025 : Improve card headers, dropdowns styling and fix UI bugs
◆ Увеличены вертикальные паддинги в хедерах карточек, убраны выделяющие цвета во всех выпадающих списках, исправлен баг с подсветкой в выпадающем списке счетчика, применен единый стиль для всех выпадающих меню (контрастная рамка, тень, радиус 2.5px), исправлена подсветка уже добавленных монет в темной теме, улучшена логика отображения счетчика монет, добавлена фиксированная ширина для кнопок, настроена видимость полос прокрутки. → В `ui/styles/layout.css` добавлены вертикальные паддинги для `.card-header`: `padding-top: 0.75rem` и `padding-bottom: 0.75rem`. Убраны выделяющие цвета из всех выпадающих списков: удален класс `text-danger` у кнопки "Удалить отмеченные", удален `text-success` у иконки проверки в списке поиска, добавлены глобальные стили для `.list-group-item-action` с одинаковым цветом текста во всех состояниях (используется `var(--bs-body-color)`). Исправлен баг с подсветкой в выпадающем списке счетчика: добавлены специфичные CSS правила с `!important` для `.cg-counter-dropdown .list-group-item-action:hover`, `:focus`, `:active`, включая disabled элементы. Применен единый стиль для всех выпадающих меню внутри `<main>`: радиус скругления `2.5px`, более контрастная рамка (`#adb5bd` для светлой темы, `#5a5d62` для темной), усиленная тень для обеих тем. Исправлена подсветка уже добавленных монет: в `index.html` заменен класс `bg-light` на `cg-search-item-selected`, добавлен CSS класс `.cg-search-item-selected` с использованием `var(--bs-secondary-bg)` для теме-зависимой подсветки. Изменена логика отображения счетчика монет: формат "n/N" показывается только когда выбрана часть монет (`0 < selectedCoinsCount < totalCoinsCount`), в остальных случаях показывается только общее число монет. Увеличена ширина кнопки счетчика с `3.5em` до `5em` в `ui/styles/layout.css`. Добавлена фиксированная ширина `7em` для кнопки обновления (класс `.cg-update-btn`) для предотвращения "прыжков" интерфейса при показе спиннера. Настроена видимость полос прокрутки: вертикальная полоса всегда видна (`overflow-y: scroll` на `html`), горизонтальная полоса скрыта глобально (`overflow-x: hidden` на `html`/`body`, скрытие через CSS `::-webkit-scrollbar { height: 0 }` и `scrollbar-width`). ◉ Унификация визуального языка через единый стиль dropdown-меню создает предсказуемый интерфейс: пользователь видит одинаковое оформление во всех контекстах, что снижает когнитивную нагрузку. Фиксированная ширина кнопок предотвращает визуальные "прыжки" при изменении состояния (например, появление спиннера), демонстрируя внимание к стабильности интерфейса. Условное отображение формата счетчика ("n/N" только при частичном выборе) показывает принцип прогрессивного раскрытия информации: детали показываются только когда они релевантны контексту.

## Коммит ea5a12a от 10.12.2025 : Styles
◆ Обновлены стили layout. → Обновлен `ui/styles/layout.css` с небольшими изменениями в стилях. ◉ Минорное обновление стилей.

## Коммит c80858f от 10.12.2025 : Fix settings visibility from any tab and add activeTab persistence
◆ Исправлен баг, когда настройки не открывались при клике на гамбургер с любой вкладки кроме "%". Добавлено сохранение активной вкладки в localStorage. → В `index.html` убрано условие `activeTab === 'percent'` из `v-if` для `app-settings`, чтобы настройки показывались при `showSettings === true` независимо от активной вкладки. Для `app-coingecko` оставлено условие `!showSettings && activeTab === 'percent'`, чтобы он показывался только на вкладке "%" когда настройки закрыты. В `app/app-ui-root.js` добавлена загрузка сохраненной активной вкладки из localStorage при инициализации (`savedActiveTab = localStorage.getItem('activeTab')`). В `app/app-ui-root.js` добавлен watch для `activeTab`, который сохраняет текущую вкладку в localStorage при изменении. ◉ Устранено ограничение доступности настроек: гамбургер теперь работает как универсальный элемент управления независимо от контекста, что улучшает навигацию и делает интерфейс более интуитивным. Персистентность активной вкладки демонстрирует принцип сохранения состояния пользователя: при перезагрузке приложение восстанавливает последний выбранный контекст, создавая ощущение непрерывности работы.

## Коммит 3df7eb2 от 10.12.2025 : Fix component visibility toggle and tab switching logic
◆ Исправлена логика переключения видимости компонентов `app-settings` и `app-coingecko` при взаимодействии с гамбургером и вкладкой "%". Исправлен баг, когда после открытия настроек через гамбургер вкладка "%" переставала переключаться. → Перенесено состояние `activeTab` из компонента header в корневой компонент (`app/app-ui-root.js`) для централизованного управления и доступа из разных компонентов. В `ui/interaction/header.js` `activeTab` преобразован в computed-свойство, которое читает значение из корневого компонента (`this.$root.activeTab`). Добавлен watch для `$root.activeTab` в `ui/interaction/header.js` для реактивного обновления computed-свойств при изменении активной вкладки. Метод `toggleMenu()` в `ui/interaction/header.js` теперь только открывает настройки (`root.showSettings = true`), не переключает их. Метод `switchTab()` в `ui/interaction/header.js` при переключении на вкладку "%" всегда закрывает настройки (`root.showSettings = false`), обеспечивая показ CoinGecko. В `index.html` добавлен `@click="switchTab(tab.id)"` на label радиокнопок вкладок для обработки клика даже когда вкладка уже активна (HTML radio buttons не генерируют `@change` при клике на уже активную кнопку). В `index.html` условия видимости компонентов используют `showSettings && activeTab === 'percent'` для `app-settings` и `!showSettings && activeTab === 'percent'` для `app-coingecko`. ◉ Централизация состояния навигации в корневом компоненте заложила архитектурный принцип единой точки истины: все компоненты читают состояние из одного источника, предотвращая рассинхронизацию. Разделение ответственности между гамбургером (открытие настроек) и вкладками (переключение контента) создает предсказуемое поведение интерфейса, где каждый элемент управления имеет четкую роль. Обработка клика на уже активную вкладку демонстрирует внимание к edge cases: интерфейс должен работать корректно во всех сценариях использования, включая повторные действия пользователя.

## Коммит 520b03e от 10.12.2025 : Add inverse theme for header dropdowns/tooltips and remove header side padding
◆ Реализована инверсная тема для dropdown меню и всплывающих подсказок в хедере, убраны боковые паддинги в хедере, центральный блок занимает всю доступную ширину. → Добавлен метод `getInverseTheme()` и computed-свойство `inverseTheme` в `ui/interaction/header.js` для получения инверсной темы (light ↔ dark). Dropdown меню используют инверсную тему через `:data-bs-theme="inverseTheme"` вместо `getCurrentTheme()`. Реализована инициализация Bootstrap tooltips с инверсной темой через `data-bs-theme` в методе `initTooltips()`, tooltips обновляются при изменении темы приложения. Убраны кастомные `border-radius: 4px` из `ui/styles/dropdown.css`, используются дефолтные значения Bootstrap (`var(--bs-border-radius)`). Унифицированы стили dropdown для десктоп и мобильной версии (убрана медиа-запрос `@media (max-width: 767.98px)`, стили применяются ко всем `.app-header-dropdown-menu`). Убраны боковые паддинги в хедере: добавлен класс `app-header-container-fluid` с `padding-left: 0` и `padding-right: 0` в `ui/styles/header.css`, убран класс `px-3` у центрального блока в `index.html`. Центральный блок хедера использует `flex-grow-1` и занимает всю доступную ширину без боковых паддингов. ◉ Инверсная тема для dropdown и tooltip создает визуальную иерархию: выпадающие элементы контрастируют с фоном хедера, улучшая их видимость и воспринимаемую важность. Использование дефолтных значений Bootstrap (`var(--bs-border-radius)`) демонстрирует принцип следования стандартам библиотеки: кастомные значения заменяются на переменные, обеспечивая согласованность с обновлениями Bootstrap. Удаление боковых паддингов максимизирует использование горизонтального пространства, критично для мобильных устройств с ограниченной шириной экрана.

## Коммит 50c3603 от 10.12.2025 : Optimize main layout: remove wrapper, center content, fix header spacing
◆ Оптимизирована структура основного контента: убрана лишняя обертка `<div class="row">`, перенесен класс `row` на `<main>`, добавлено центрирование контента с ограничением ширины, исправлен отступ сверху (контент не перекрывается хедером), убраны `!important` из CSS. → В `index.html` убрана лишняя обертка `<div class="row">`, класс `row` перенесен на `<main class="avto-K9mP4rT row justify-content-center">`. Убран пустой `<header class="mb-4"></header>`, который создавал лишний отступ сверху. Убраны Bootstrap классы `pt-5 pb-4` из HTML, вместо них используется кастомный CSS селектор `.container-fluid.app-main-container` с достаточной специфичностью (два класса) для переопределения дефолтных стилей Bootstrap без `!important`. В `ui/styles/layout.css` добавлены стили для `.container-fluid.app-main-container` с `padding-top: 60px` (хедер 50px + зазор 10px) и `padding-bottom: 20px`. Добавлены стили для `.avto-K9mP4rT` с `max-width: 1400px`, `margin: 0 auto` для центрирования, адаптивными боковыми отступами (15px на десктопе, 10px на мобильных < 576px). Убраны все `!important` из CSS, используется правильная специфичность селекторов. ◉ Установлен принцип минималистичной разметки: удаление избыточных оберток упрощает структуру DOM и улучшает производительность рендеринга. Ограничение максимальной ширины контента (1400px) оптимизирует читаемость на широких экранах, предотвращая растягивание текста и таблиц. Отказ от `!important` демонстрирует правильное использование каскадности CSS: специфичность селекторов обеспечивает переопределение стилей Bootstrap без принудительного переопределения, что упрощает поддержку и отладку.

## Коммит a2bf815 от 10.12.2025 : Improve CoinGecko search: sort by ticker match, add hover effects, cache icons
◆ Улучшена сортировка результатов поиска (полные совпадения по тикеру выше), добавлена подсветка при наведении на элементы выпадающего списка, реализовано кэширование иконок монет для мгновенной загрузки. → В `ui/api/coingecko.js` метод `searchCoins()` дополнен сортировкой результатов: полные совпадения с тикером (case-insensitive) выводятся первыми, затем тикеры, начинающиеся с запроса, затем остальные по `market_cap_rank` (популярности). В `ui/styles/layout.css` добавлены стили для `.cg-search-item`: `cursor: pointer`, `transition: background-color 0.15s ease-in-out`, `:hover` с `var(--bs-secondary-bg)`, `:active` с `var(--bs-tertiary-bg)`. В `index.html` удален inline `style="cursor: pointer;"` из элементов списка, добавлены классы `cg-search-dropdown` и `cg-search-item` для управления через CSS. В `ui/api/coingecko.js` реализовано кэширование иконок монет в `localStorage`: добавлено поле `cgIconsCache` в `data()` для реактивного доступа к кэшу иконок, метод `cacheCoinsIcons(coins)` добавляет иконки в кэш и сохраняет в `localStorage` под ключом `cgIconsCache`, метод `getCoinIcon(coin)` возвращает иконку из кэша или из объекта монеты с автоматическим кэшированием, при загрузке данных из API (`fetchCoinGecko()`) иконки автоматически кэшируются через `cacheCoinsIcons()`, при добавлении монеты через поиск (`addCoin()`) иконка из результатов поиска сразу кэшируется. В `index.html` заменено `coin.image` на `getCoinIcon(coin)` для отображения иконок в таблице, обеспечивая мгновенную загрузку из кэша. ◉ Реализована интеллектуальная сортировка результатов поиска по релевантности: точные совпадения приоритезируются, что ускоряет поиск часто используемых монет. Плавные переходы при наведении создают тактильную обратную связь, улучшая восприятие интерактивности элементов. Кэширование иконок в localStorage демонстрирует стратегию оптимизации производительности: ресурсы загружаются один раз и переиспользуются, критично для статического приложения без CDN-кэширования.

## Коммит dc6b0e2 от 10.12.2025 : Add table sorting, context menu, coin archive, and UI improvements
◆ Реализована глобальная система сортировки таблиц, контекстное меню для операций с монетами, архив монет, улучшен интерфейс таблицы (убрано название монеты, колонка цены, заменены крестики на чекбоксы, нейтральная кнопка обновления). → Создан глобальный Vue mixin `ui/utils/table-sort-mixin.js` для циклической сортировки таблиц (3 состояния: null → asc → desc → null). Mixin добавляет методы `handleSort(field)`, `sortData(data, defaultOrder)`, `getSortValue(item, field)`, `getSortIcon(field)` и data-свойства `sortBy`, `sortOrder`. В `ui/api/coingecko.js` подключен mixin через `mixins: [window.tableSortMixin]`, добавлен computed-свойство `sortedCoins()`. В `index.html` добавлены обработчики `@click="handleSort(field)"` на заголовки колонок с иконками сортировки (`fa-sort`, `fa-sort-up`, `fa-sort-down`). Убрана колонка "Цена", убрано полное название монеты (оставлен только uppercase тикер с иконкой). Добавлен нативный tooltip через атрибут `title="coin.name"` на блок иконка+тикер для показа полного названия. Реализовано контекстное меню по клику/правому клику на блок монеты: операции "В начало", "Вверх", "Вниз", "В конец", "В архив", "Удалить". В `ui/api/coingecko.js` добавлены методы: `openContextMenu()`, `closeContextMenu()`, `moveToPosition(position)`, `archiveCoin()`. Добавлено хранилище архивированных монет (`cgArchivedCoins`) в localStorage. Заменены кнопки удаления (крестики) на чекбоксы в первой колонке (без функциональности). Кнопка обновления данных изменена с `btn-outline-primary` с иконкой `fa-sync-alt` на `btn-outline-secondary` с Unicode символом "⟳" для нейтрального вида. Таблица теперь использует `sortedCoins` вместо `cgCoins` для отображения отсортированных данных. ◉ Создан переиспользуемый архитектурный паттерн сортировки через Vue mixin: это заложило основу для единообразной сортировки во всех таблицах проекта, упрощая добавление функциональности в новые компоненты. Контекстное меню как основной способ взаимодействия с элементами таблицы демонстрирует подход к интерактивности: действия скрыты до запроса, сохраняя чистоту интерфейса. Архив как отдельное хранилище показывает принцип организации данных: временно скрытые элементы сохраняются отдельно от активных, позволяя легко восстанавливать их без потери структуры.

## Коммит 4465437 от 10.12.2025 : Fix table UI: restore archive, context menu, remove sort icons, improve spacing
◆ Исправлена кнопка обновления (текст вместо Unicode), исправлено контекстное меню (появляется при клике), добавлен селект архива с индикатором количества, убраны иконки сортировки, улучшено визуальное оформление таблицы. → В `index.html` заменен Unicode символ "⟳" на текст "Обновить" в кнопке обновления данных. Исправлено контекстное меню: добавлен `@click.stop` и `@contextmenu.prevent.stop` на блок монеты, исправлен метод `openContextMenu()` с использованием `event.stopPropagation()`, добавлен метод `closeContextMenuOnOutside()` с правильной привязкой контекста через `.bind(this)`. Добавлен селект архива справа от поля поиска: `<select>` с опциями из `cgArchivedCoins`, заголовок "Архив", обработчик `@change="restoreFromArchive"`. Добавлен индикатор количества монет в архиве: `<small class="text-muted">` с `{{ cgArchivedCoins.length }}` справа от селекта. В `ui/api/coingecko.js` добавлены методы: `restoreFromArchive()` (восстанавливает монету из архива в таблицу), `getArchivedCoinName(coinId)` (получает название монеты для селекта). Убраны иконки сортировки (`<i :class="getSortIcon(...)"></i>`) из всех заголовков колонок, оставлен только текст. В `ui/styles/layout.css` добавлены стили: `.table tbody tr:last-child td { border-bottom: none !important; }` (убирает светлую линию под последней строкой), `.avto-B7fN2kT .card-body { padding-bottom: 0.5rem !important; }` (уменьшает паддинг между низом таблицы и низом карточки). ◉ Замена Unicode-символа на текст демонстрирует принцип доступности: текстовые метки более понятны и не зависят от поддержки символов в шрифтах. Упрощение интерфейса таблицы (удаление иконок сортировки, лишних линий) создает минималистичный вид, где функциональность определяется интерактивностью элементов, а не визуальными подсказками. Удаление визуальных границ (линии под последней строкой, зазоры) создает эффект целостности данных, где таблица воспринимается как единый информационный блок.

## Коммит 3f9d71c от 10.12.2025 : Fix archive dropdown, context menu actions, and add multi-coin search
◆ Исправлен dropdown архива (иконка + тикер), исправлены кнопки перемещения в контекстном меню, убрано цветовое выделение пунктов меню, добавлен disabled для пустого архива, реализован множественный поиск монет через разделители. → Заменен HTML `<select>` на кастомный dropdown для архива: кнопка "Архив" открывает выпадающий список с иконками и тикерами монет (аналогично поиску). В `ui/api/coingecko.js` добавлены методы: `toggleArchiveDropdown()`, `closeArchiveDropdownOnOutside()`, `restoreFromArchiveById(coinId)`, `getArchivedCoinName()`, `getArchivedCoinSymbol()`, `getArchivedCoinIcon()`. Исправлен метод `moveToPosition()`: изменена логика перемещения - для 'up' и 'down' используется обмен местами вместо splice, что исправляет баг с неработающими кнопками. Убраны классы `text-warning` и `text-danger` из кнопок "В архив" и "Удалить" в контекстном меню для единообразного оформления. Добавлен `:disabled="cgArchivedCoins.length === 0"` на кнопку "Архив" для блокировки при пустом архиве. Реализован множественный поиск монет: метод `searchCoins()` теперь разбивает запрос на термины через регулярное выражение `/[^a-zA-Z0-9]+/` (все разделители кроме букв и цифр), выполняет отдельные запросы для каждого термина и объединяет результаты с удалением дубликатов. Добавлено поле `showArchiveDropdown` в data для управления видимостью dropdown архива. ◉ Унификация визуального языка интерфейса: удаление цветового выделения пунктов меню создает нейтральный, профессиональный вид, где важность действий определяется контекстом, а не цветом. Множественный поиск через разделители демонстрирует гибкость ввода: пользователь может использовать естественные разделители (запятые, пробелы, слэши), что улучшает UX при работе с несколькими монетами одновременно. Блокировка пустого архива показывает принцип предотвращения ошибок через UI: недоступные действия визуально отключены, предотвращая разочарование пользователя.

## Коммит 41cef8d от 10.12.2025 : Fix archive button width, coin display order, header alignment, and table spacing
◆ Зафиксирована ширина кнопки "Архив" по контенту, исправлен порядок отображения монет (тикер вместо названия в верхней строке), выровнено содержимое card-header по вертикали, убран зазор между низом таблицы и низом карточки. → В `index.html` добавлены стили `width: auto; min-width: fit-content;` на кнопку "Архив" для фиксации ширины по контенту. В результатах поиска монет изменен порядок отображения: тикер (`result.symbol`) теперь в верхней строке с классами `fw-semibold small text-uppercase`, полное название (`result.name`) в нижней строке с классом `text-muted`. В `card-header` добавлен класс `d-flex align-items-center` для вертикального выравнивания по центру, убран `mb-2` из внутреннего контейнера, добавлен `w-100` для полной ширины. В `ui/styles/layout.css` добавлены глобальные CSS правила для удаления нижнего маргина у последней таблицы в `card-body`: `.card-body > .table-responsive:last-child`, `.card-body > .table:last-child` с `margin-bottom: 0 !important;`. ◉ Установлена визуальная иерархия информации: тикер как основная идентификационная единица отображается первым, полное название как дополнительная информация - вторым. Это соответствует паттерну сканирования интерфейса, где пользователь сначала ищет короткие идентификаторы. Удаление зазоров между элементами (таблица-карточка, элементы header) создает визуально цельный интерфейс без визуального "шума" от лишних отступов.

## Коммит 4bd04f2 от 10.12.2025 : Add coins count indicator and format date/time in two lines
◆ Добавлен индикатор числа монет в таблице после кнопки "Архив", изменен формат отображения даты и времени на две строки без запятой. → В `index.html` добавлен индикатор `{{ sortedCoins.length }}` после индикатора архива для отображения количества монет в основной таблице. Изменен формат отображения даты/времени: вместо одной строки с запятой (`toLocaleString()`) теперь две строки - дата и время отдельно. В `ui/api/coingecko.js` изменено сохранение `cgLastUpdated` с `toLocaleString()` на `toISOString()` для более надежного парсинга. Добавлены методы `formatLastUpdatedDate()` и `formatLastUpdatedTime()` для форматирования даты и времени в две строки с поддержкой обратной совместимости (старый формат `toLocaleString()` также обрабатывается). В `index.html` дата/время отображаются в двух `<div>` элементах с `line-height: 1.2` для компактного отображения. ◉ Миграция формата хранения даты на ISO-стандарт демонстрирует принцип использования стандартизированных форматов данных: `toISOString()` обеспечивает надежный парсинг и совместимость между системами. Разделение даты и времени на две строки оптимизирует использование вертикального пространства, улучшая читаемость на мобильных устройствах. Поддержка обратной совместимости показывает внимание к сохранению функциональности при эволюции формата данных.

## Коммит 665d722 от 10.12.2025 : Add pluralize utility, convert coins count to button, remove archive indicator
◆ Создана глобальная утилита для склонения русских числительных, индикатор числа монет преобразован в кнопку в стиле "Архив" и "Обновить", убран индикатор числа монет в архиве. → Создан файл `ui/utils/pluralize.js` с глобальной функцией `window.pluralize(number, forms)` для склонения русских числительных по правилам русского языка (1 монета, 2-4 монеты, 5+ монет, 11-19 монет). Подключен `pluralize.js` в `index.html` после `table-sort-mixin.js`. В `ui/api/coingecko.js` добавлен метод `pluralizeCoins(count)` для склонения слова "монета" с использованием глобальной утилиты. В `index.html` индикатор числа монет (`<small>`) заменен на кнопку `<button class="btn btn-sm btn-outline-secondary" disabled>` с текстом `{{ sortedCoins.length }} {{ pluralizeCoins(sortedCoins.length) }}` (например: "5 монет"). Убран индикатор архива `<small class="text-muted" v-if="cgArchivedCoins.length > 0">{{ cgArchivedCoins.length }}</small>`. Кнопка числа монет имеет те же стили, что и кнопки "Архив" и "Обновить" (`btn-sm btn-outline-secondary`), фиксированную ширину по контенту (`width: auto; min-width: fit-content;`), состояние `disabled` для визуального единства. ◉ Создана переиспользуемая утилита локализации для русского языка: правильное склонение числительных улучшает читаемость интерфейса и демонстрирует внимание к деталям локализации. Преобразование индикатора в кнопку показывает подход к визуальной унификации: все элементы управления выглядят одинаково, создавая предсказуемый визуальный язык интерфейса. Удаление избыточных индикаторов демонстрирует принцип минимализма: информация показывается только там, где она критична для понимания состояния.

## Коммит 4dbe4f8 от 10.12.2025 : Fix coins count button styles and unify card-header layout
◆ Исправлены стили кнопки индикатора числа монет (убрана блеклость), переделана структура card-header для единого потока элементов с равными гэпами. → В `index.html` убран атрибут `disabled` у кнопки индикатора числа монет, чтобы она выглядела как обычная кнопка (как "Обновить"), а не блеклой. Переделана структура `card-header`: убрано разделение на три секции (`<div class="d-flex justify-content-between align-items-center w-100">`), все элементы теперь в едином потоке с классом `d-flex align-items-center gap-2` на `card-header`. Поле поиска использует `flex-grow-1` для растягивания, остальные элементы (Архив, индикатор монет, дата/время, Обновить) идут последовательно с равными отступами через `gap-2`. Убраны обертки `<div class="d-flex align-items-center gap-2">` вокруг групп элементов, все элементы на одном уровне. ◉ Упрощение структуры card-header демонстрирует принцип минимализма в разметке: единый поток с равными отступами через `gap-2` создает визуально упорядоченный интерфейс без избыточных оберток. Удаление атрибута `disabled` у индикатора числа монет показывает подход к визуальной иерархии: все элементы управления выглядят одинаково активными, подчеркивая их информационную роль, а не интерактивную.

## Коммит 441e3f6 от 10.12.2025 : Remove full coin name from archive dropdown, show only ticker
◆ Убрано полное название монеты из выпадающего списка архива, теперь показывается только тикер (сокращенная аббревиатура). → В `index.html` удалена строка `<small class="text-muted">{{ getArchivedCoinName(archivedId) }}</small>` из структуры элемента архива. Теперь в архиве отображается только тикер монеты в верхней строке с классами `fw-semibold small text-uppercase`, без полного названия внизу. Структура архива теперь идентична структуре результатов поиска по отображению тикера (только тикер, без названия). ◉ Унификация формата отображения между архивом и результатами поиска создает визуальную согласованность интерфейса: пользователь видит одинаковый формат в разных контекстах, что снижает когнитивную нагрузку. Удаление дублирования информации (полное название) оптимизирует использование пространства без потери функциональности, так как полное название доступно через tooltip при необходимости.

## Коммит 0591c5f от 10.12.2025 : Review and add avto- hash markers to all significant containers
◆ Проведена ревизия системы маркировки контейнеров `avto-{hash}`, добавлены маркеры для header и footer, обновлена документация с актуальными примерами. → Проверены все значимые контейнеры в проекте на наличие маркировки `avto-{hash}`. Добавлена маркировка для header: `<header class="... avto-vn6jdk3M">` (хэш `vn6jdk3M` сгенерирован через Base58). Добавлена маркировка для footer: `<footer class="... avto-3B8RpMhu">` (хэш `3B8RpMhu` сгенерирован через Base58). Проверены существующие маркеры: `avto-X7pL2nQ` (корневой контейнер контента), `avto-K9mP4rT` (основная секция main), `avto-M3nP8qW` (карточка настроек), `avto-B7fN2kT` (карточка CoinGecko) - все на месте. Splash screen не маркирован `avto-`, так как имеет `id="splash-screen"` и используется в JS через `getElementById()` (JS-зависимый элемент). Контекстное меню не маркировано, так как является динамическим элементом с JS-зависимостями (позиционирование через JS). В `architect.md` обновлены примеры маркировки с актуальными хэшами и добавлены примеры для header и footer. ◉ Система маркировки `avto-{hash}` заложила архитектурный принцип навигации по коду: детерминированные хэши через Base58 обеспечивают уникальную идентификацию контейнеров для быстрого поиска в DevTools и точного указания местоположения при работе с ИИ-агентом. Исключение динамических элементов (splash, контекстное меню) демонстрирует понимание границ применения маркировки: статические структурные элементы маркируются, динамические управляются через ID и JS-логику.

## Коммит a2c1ec1 от 10.12.2025 : Change archive structure to store coin ticker and name separately
◆ Изменена структура хранения архива монет: теперь сохраняются объекты с полями `id`, `symbol` и `name` вместо простых ID, в выпадающем списке архива показывается только тикер. → В `ui/api/coingecko.js` изменена структура `cgArchivedCoins`: теперь массив объектов `{id, symbol, name}` вместо массива строк (ID). При загрузке из localStorage добавлена обратная совместимость: если загружен массив строк (старый формат) - автоматически преобразуется в объекты с fallback значениями. Метод `archiveCoin()` теперь сохраняет объект с тремя полями: `id` (ID монеты), `symbol` (тикер в uppercase), `name` (полное название). Метод `restoreFromArchiveById()` обновлен для работы с объектами: поиск по `archived.id` вместо прямого сравнения строк. Добавлен метод `getArchivedCoinId(archivedCoin)` для получения ID из объекта или строки (обратная совместимость). Методы `getArchivedCoinSymbol()` и `getArchivedCoinIcon()` обновлены для работы с объектами: проверяют `archivedCoin.symbol` и `archivedCoin.id` соответственно. В `index.html` обновлен шаблон архива: `v-for="archivedCoin in cgArchivedCoins"` вместо `v-for="archivedId in cgArchivedCoins"`, использование `getArchivedCoinId()`, `getArchivedCoinSymbol()`, `getArchivedCoinIcon()` с объектами. В выпадающем списке архива показывается только тикер (без полного названия), как и требовалось. ◉ Миграция структуры данных с сохранением обратной совместимости демонстрирует принцип эволюции без разрыва: пользовательские данные не теряются при обновлении формата, автоматическая миграция обеспечивает плавный переход. Структурированное хранение (объекты вместо строк) улучшает типобезопасность и расширяемость: добавление новых полей не требует изменения логики доступа. Отображение только тикера в списке показывает баланс между информативностью и компактностью интерфейса.

## Коммит 89b6f62 от 10.12.2025 : Add caching for icons and market metrics, improve archive UI
◆ Реализовано кэширование иконок монет и метрик рынка (не чаще 1 раза в час), добавлена фильтрация символов анимации из кэша, улучшен интерфейс архива (ширина по контенту, tooltip с полным именем монеты), упрощена функция архивирования. → В `ui/api/coingecko.js` упрощена функция `archiveCoin()`: убрана валидация, используется прямое сохранение `coin.symbol` и `coin.name` из CoinGecko API. Добавлено кэширование иконок монет с проверкой времени: обновление не чаще 1 раза в час через `cgIconsCacheTimestamp` в localStorage. В `ui/interaction/footer.js` реализовано кэширование метрик рынка (FGI, VIX, BTC Dominance, OI, FR, LSR) с проверкой времени (не чаще 1 раза в час). Добавлена функция `filterSpinnerChars()` для фильтрации символов анимации (`|`, `/`, `-`, `\`) из метрик перед сохранением в кэш (заменяются на "—"). При загрузке из кэша: если есть неопределенные метрики ("—"), они продолжают загружаться из API с показом анимации слешами. Кэшируются только успешно загруженные метрики с реальными значениями (пустые значения не кэшируются). В `index.html` изменена ширина выпадающего списка "Архив": `min-width: 200px` заменено на `width: auto; min-width: fit-content;` для подстройки под контент. Добавлен tooltip с полным именем монеты при ховере над пунктами архива: `:title="getArchivedCoinName(archivedCoin)"`. ◉ Внедрена стратегия кэширования с временными ограничениями: обновление не чаще раза в час балансирует между актуальностью данных и нагрузкой на API, критично для статического приложения без серверной инфраструктуры. Фильтрация символов анимации из кэша демонстрирует внимание к качеству данных: кэш содержит только валидные значения, а не промежуточные состояния UI. Адаптивная ширина архива и tooltip с полным именем показывают подход прогрессивного раскрытия информации: компактный вид по умолчанию, детали по запросу.

## Коммит 590f10c от 09.12.2025 : Move market-metrics to core/api and unify header select styles
◆ Перемещен модуль `market-metrics.js` из `ui/api/` в `core/api/` для правильного разделения ответственности, унифицированы стили селектов в хедере для десктопной и мобильной версий, исправлены стили вкладок и dropdown кнопок. → Создана папка `core/api/` и перемещен `market-metrics.js` из `ui/api/` в `core/api/` (утилита для работы с API, не Vue компонент). Обновлен путь в `index.html`: `./ui/api/market-metrics.js` → `./core/api/market-metrics.js`. В `ui/styles/header.css` унифицированы стили для селектов: базовые стили объединены для `.app-header-select-model` и `.app-header-dropdown-btn`, добавлены специфичные селекторы с классами Bootstrap (`.btn`, `.dropdown-toggle`) для переопределения стилей Bootstrap. Исправлены стили вкладок: убраны изменения цвета рамки и текста при наведении, использованы более специфичные селекторы без `!important` для переопределения Bootstrap (`.btn-group .app-header-tab`, `.btn-check:checked + .btn.app-header-tab-active`). Исправлены стили мобильных dropdown кнопок: при открытии (`[aria-expanded="true"]`) кнопка сохраняет видимость с теми же стилями, что и в обычном состоянии, при наведении стили совпадают с десктопной версией (фон `rgba(255, 255, 255, 0.15)`, рамка и текст не меняются). ◉ Установлена четкая архитектурная граница между слоями: `core/api/` для бизнес-логики и утилит, `ui/api/` для Vue-компонентов. Это заложило принцип разделения ответственности, упрощающий навигацию по коду и понимание зависимостей. Унификация стилей селектов для всех разрешений демонстрирует подход к созданию консистентного визуального языка независимо от платформы, где поведение элементов предсказуемо и единообразно. Использование специфичных селекторов вместо `!important` показывает правильный подход к переопределению стилей Bootstrap через каскадность, а не через принудительное переопределение.

## Коммит e030661 от 09.12.2025 : Improve mobile dropdown styling: reduce padding, shorten label, add Material Design shadow
◆ Уменьшен отступ справа в dropdown кнопках (убраны лишние гэпы), "Компл. дельты" заменено на "Дельты" в мобильной версии для экономии места, добавлены стили для dropdown меню в стиле Material Design (тонкая рамка, тень, скругление углов). → В `index.html` для dropdown кнопок: уменьшен `padding-right` с `2rem` до `0.75rem` для обоих dropdown (математическая модель и вкладки отображения), убраны inline стили для border и background-color из dropdown меню (стили применяются через CSS). В `ui/interaction/header.js` в computed свойстве `selectedTabLabel`: добавлена проверка - если выбран `complex-deltas`, возвращается "Дельты" вместо "Компл. дельты" для мобильной версии. В методе `adjustSelectWidths()`: уменьшен отступ для расчета ширины с 48px до 24px для соответствия новому `padding-right`. В CSS стилях `index.html`: обновлены стили для dropdown меню в стиле Material Design - добавлена тонкая рамка (`border: 1px solid rgba(...)` с прозрачностью 0.12), добавлена тень с двумя слоями (`box-shadow: 0 4px 6px -1px rgba(...), 0 2px 4px -1px rgba(...)`), добавлено скругление углов (`border-radius: 4px`), стили применены для темной и светлой темы с разными значениями прозрачности и цвета. ◉ Установлен принцип оптимизации пространства на мобильных устройствах: сокращение текста ("Дельты" вместо "Компл. дельты") и уменьшение отступов максимизируют использование ограниченного пространства экрана без потери читаемости. Применение Material Design-стилей (многослойные тени, тонкие рамки) создает визуальную глубину и иерархию, улучшая восприятие выпадающих меню как отдельного слоя интерфейса. Адаптация стилей под обе темы демонстрирует внимание к визуальной согласованности независимо от выбранной темы.

## Коммит 1c92fd8 от 09.12.2025 : Fix select width calculation and replace native selects with Bootstrap dropdown on mobile
◆ Исправлена ширина селектов через динамический расчет на основе выбранного значения (точная ширина под размер контента), заменены нативные селекты на Bootstrap dropdown для мобильной версии Android (полная стилизация выпадающих списков), удален Material UI (больше не нужен). → В `ui/interaction/header.js` добавлен метод `adjustSelectWidths()`: создает временный элемент для измерения ширины текста, вычисляет точную ширину на основе выбранного значения, устанавливает ширину для селектов и dropdown кнопок (текст + 48px для padding и стрелки), вызывается при монтировании компонента и при изменении выбранных значений через `watch`. Добавлены computed свойства `selectedModelLabel` и `selectedTabLabel` для получения текущих меток выбранных значений. В `index.html` для мобильной версии: нативные селекты заменены на Bootstrap dropdown компоненты (кнопки с классом `dropdown-toggle` и меню с классом `dropdown-menu`), добавлены уникальные ID для dropdown через случайные строки в `data()` компонента. Dropdown меню стилизованы с учетом темы приложения: используется атрибут `data-bs-theme` для определения темы (темная: фон `#2b2b2b`, светлая: фон белый), стили применяются через CSS с учетом темы для элементов `.dropdown-item` (hover и active состояния). Удален Material Design Components for Web (MDC Web) из `index.html`, так как Bootstrap dropdown полностью заменяет его функциональность. Обновлены CSS стили: убраны стили для нативных селектов Android, добавлены стили для Bootstrap dropdown меню с учетом темы приложения. ◉ Реализован динамический расчет ширины через измерение текста: это обеспечивает точное соответствие ширины контента без резервирования лишнего пространства, критично для мобильных экранов с ограниченным пространством. Замена нативных селектов на Bootstrap dropdown демонстрирует принцип унификации UI-компонентов: использование единой библиотеки (Bootstrap) вместо смешивания нативных элементов и внешних библиотек упрощает поддержку и обеспечивает визуальную согласованность. Удаление Material UI показывает оптимизацию зависимостей: использование только необходимых инструментов снижает размер бандла и сложность кода.

## Коммит 3336cdc от 09.12.2025 : Improve mobile header selects: fit-content width, split gradients/max, add Material UI styling
◆ Улучшена работа селектов в мобильной версии хедера: ширина селектов подстраивается под ширину контента (а не под самое длинное название), пункт "Градиенты MAX" разделен на два отдельных пункта ("Градиенты" и "MAX"), подключен Material Design Components для Web для стилизации селектов на Android с учетом темы приложения (день/ночь). → В `index.html` для селектов хедера: изменена ширина с `width: auto; min-width: 120px` на `width: fit-content; max-width: 100%` для обоих селектов (математическая модель и вкладки отображения), добавлен класс `header-select` для применения стилей. В `ui/interaction/header.js` в массиве `displayTabs`: пункт `{ id: 'gradients-max', label: 'Градиенты MAX' }` заменен на два пункта: `{ id: 'gradients', label: 'Градиенты' }` и `{ id: 'max', label: 'MAX' }`. В `index.html` подключен Material Design Components for Web (MDC Web) через CDN: добавлены ссылки на CSS и JS библиотеки (`https://unpkg.com/material-components-web@latest/dist/material-components-web.min.css` и `.min.js`). Добавлены CSS стили для селектов на Android: стили применяются только на мобильных устройствах (`@media (max-width: 767.98px)`), учитывают тему приложения через атрибут `data-bs-theme` (темная тема: фон `#2b2b2b`, текст белый; светлая тема: фон белый, текст темный), стилизуют элементы `<option>` с отступами (`padding: 12px 16px`) для удобства нажатия. ◉ Установлен принцип адаптивной ширины элементов: `fit-content` обеспечивает оптимальное использование пространства, подстраиваясь под актуальное содержимое, а не резервируя место под максимально длинный вариант. Разделение "Градиенты MAX" на два пункта демонстрирует подход декомпозиции сложных функций на простые, улучшая навигацию и понимание структуры данных. Интеграция Material UI для Android показывает адаптацию под платформенные стандарты визуального языка, сохраняя при этом согласованность с темой приложения.

## Коммит b11e227 от 09.12.2025 : Optimize mobile footer height and replace header tabs with select on mobile
◆ Оптимизирована высота футера в мобильной версии (установлена в 6.25ex ≈ 50px для удобства нажатия, убраны вертикальные паддинги, скрыта горизонтальная полоса прокрутки), вкладки отображения в хедере заменены на селект в мобильной версии для экономии места на экране. → В `index.html` для футера: убран класс `p-5` для мобильных, оставлен только `p-md-2` для десктопа, добавлен `min-height: 6.25ex` (≈50px при стандартном размере шрифта) для мобильной версии, убраны вертикальные паддинги, использовано `d-flex align-items-center` для вертикального выравнивания по центру. Добавлены стили для скрытия горизонтальной полосы прокрутки: `scrollbar-width: none` (Firefox), `-ms-overflow-style: none` (IE/Edge), CSS правило `.footer-mobile-scroll::-webkit-scrollbar { display: none; }` (WebKit-браузеры), при этом прокрутка пальцем остается через `-webkit-overflow-scrolling: touch`. В хедере: вкладки отображения разделены на две версии - мобильная (`d-block d-md-none`) с селектом, десктопная (`d-none d-md-flex`) с радиокнопками Bootstrap. Селект вкладок стилизован аналогично селекту математической модели (темный фон, полупрозрачная стрелка, hover-эффекты). ◉ Установлен принцип адаптации UI-паттернов под платформу: использование относительных единиц (6.25ex) для высоты футера обеспечивает масштабируемость под размер шрифта пользователя, сохраняя комфортную область касания. Скрытие полосы прокрутки при сохранении функциональности создает чистый визуальный вид без потери доступности. Замена вкладок на селект в мобильной версии демонстрирует подход оптимизации пространства экрана без потери функциональности, сохраняя радиокнопки на десктопе для быстрого переключения.

## Коммит a0bfc36 от 09.12.2025 : Improve splash screen loading indicator and API key field styling
◆ Улучшен индикатор загрузки цитаты на сплэш-экране (заменен спиннер на анимированные точки), установлен рекомендуемый объем философского предложения (30 слов), улучшена стилизация поля ввода API-ключа (скрыто до фокуса). → В `ui/interaction/splash.js` добавлены `loadingDots` и `loadingDotsInterval` в data компонента, реализованы методы `startLoadingDots()` и `stopLoadingDots()` для циклической анимации точек (1,2,3,4,5), добавлено computed свойство `loadingDotsString` для генерации строки точек, добавлена очистка интервала в `beforeUnmount`. Обновлен промпт для Perplexity API: добавлено требование "approximately 30 words (not less than 25, not more than 35)" для философского предложения. В `index.html` убран блок с текстом "Ищем цитату..." и спиннером, заменен на индикатор точек после имени коммита (`{{ loadingDotsString }}`), убрана черта под цитатой (удален `border-top border-secondary`). Поле ввода API-ключа: убран класс `bg-dark`, добавлено динамическое управление `backgroundColor` (transparent по умолчанию, `var(--bs-dark)` при фокусе), добавлено управление `borderColor` (transparent по умолчанию, `var(--bs-secondary)` при фокусе), сохранена полупрозрачность текста (opacity: 0.5) до фокуса. Текст "Perplexity API Key (optional):" заменен на "API:" с подсказкой `title="Perplexity API Key"`. ◉ Установлен принцип прогрессивного раскрытия интерфейса: скрытие поля API-ключа до фокуса создает минималистичный вид сплэша, раскрывая детали только при необходимости. Анимированные точки как индикатор загрузки более элегантны и менее навязчивы, чем спиннер, сохраняя визуальную связь с процессом генерации. Ограничение объема предложения до 30 слов оптимизирует баланс между информативностью и читаемостью, обеспечивая быстрый скан текста без потери смысла.

## Коммит 73241da от 09.12.2025 : Add system language detection and simplify quote to single philosophical-predictive sentence
◆ Добавлено определение языка системы для генерации философского предложения на языке пользователя, упрощена структура предложения: одно предложение вместо двух (начинается с философии, заканчивается предсказанием для пользователя в другой сфере жизни). → В `ui/interaction/splash.js` добавлено определение языка системы через `navigator.language`, извлечение кода языка (например, "ru" из "ru-RU"), создан маппинг кодов языков на названия (ru→Russian, en→English, de, fr, es, it, pt, ja, zh, ko), добавлены поля `systemLanguage` и `targetLanguage` в data компонента. Обновлен промпт для Perplexity API: добавлено требование генерировать на языке системы (`in ${this.targetLanguage}`), изменена структура с двух предложений на одно (философское размышление + предсказание для пользователя), объем увеличен до ~40 слов (не жестко, приоритет красоте и смыслу), предсказание должно быть в другой сфере жизни (медицина, экономика, отношения, образование, карьера, здоровье, семья, личностный рост, творчество, духовность), предсказание адресовано пользователю ("you", "your"). Упрощен парсинг ответа: убрана логика разделения на два предложения, теперь просто одно предложение. В `index.html` убрано отображение `prediction` из шаблона. ◉ Реализована локализация контента на уровне системы: автоматическое определение языка пользователя делает философское высказывание более доступным и эмоционально близким. Объединение философского размышления и персонального предсказания в одно предложение создает эффект концептуальной преемственности между техническим прогрессом (коммит) и личностным развитием пользователя, превращая сплэш в точку вдохновения и рефлексии. Оптимизация до одного запроса снижает нагрузку на API и ускоряет загрузку.

## Коммит 0fea50f от 09.12.2025 : Add footer with market indices and framework versions
◆ Создан компонент футера с индексами рынка и версиями фреймворков, вынесен модуль получения метрик рынка в отдельный файл, добавлены цветовые состояния иконок, реализована адаптивность для мобильных устройств. → Создан компонент `ui/interaction/footer.js` с Vue-компонентом футера, использующим x-template шаблон. Создан модуль `ui/api/market-metrics.js` для получения метрик рынка (FGI, VIX, BTC Dominance, OI, FR, LSR) из внешних API, экспортирует функции через `window.marketMetrics`, включает утилиты `clamp()` и `safeNumber()`, метод `fetchAll()` для загрузки всех метрик одновременно. В `index.html` добавлен x-template для футера с `position-fixed` внизу экрана, тень сверху, фон соответствует теме через `bg-body`. Добавлены индексы рынка: FGI (Fear & Greed Index), VIX (Volatility Index), BTC Dominance, Open Interest, Funding Rate, Long/Short Ratio с иконками Font Awesome. Реализованы цветовые состояния иконок через computed properties: BTC (цветная если доминирует >50%, серая если нет), FGI (красный 0-25, оранжевый 26-45, серый 46-55, зеленый 56-75, яркий зеленый 76-100), VIX (зеленый <20, серый 20-30, красный >30), FR (зеленый отрицательный, серый нейтральный, красный положительный), LSR (красный <1.0, серый =1.0, зеленый >1.0), OI (всегда серый). BTC иконка вынесена первой в списке индексов. Ширина ячеек изменена на `col-auto` для распределения по контенту, убрана вертикальная линия между секциями, все индикаторы объединены в один контейнер с `justify-content-between` для равномерного распределения. Добавлена адаптивность: на десктопе (`d-md-flex`) показываются все индикаторы, на мобильных (`d-flex d-md-none`) только метрики рынка с горизонтальной прокруткой (`overflow-x-auto`, `-webkit-overflow-scrolling: touch`), версии фреймворков скрыты на мобильных. Компонент зарегистрирован в `app-ui-root.js` как `app-footer`, подключен скрипт в `index.html`. ◉ Футер стал информационным хабом приложения: фиксированное позиционирование обеспечивает постоянный доступ к ключевым метрикам рынка без прокрутки. Цветовая кодировка индикаторов создает визуальный язык состояния рынка (страх/жадность, волатильность, настроения), позволяя мгновенно оценить ситуацию без чтения числовых значений. Модульная архитектура market-metrics заложила основу для переиспользования логики получения метрик в других компонентах, демонстрируя принцип разделения ответственности между UI и бизнес-логикой.

## Коммит 8413ccf от 09.12.2025 : Improve footer mobile height for better touch interaction
◆ Увеличена высота футера на мобильных устройствах примерно в 3 раза для удобства нажатия пальцем. → В `index.html` изменен padding футера с `p-2` на `p-5 p-md-2` (на мобильных `p-5` ≈ 48px, на десктопе `p-2` ≈ 8px). Разделены версии для мобильных и десктопа: десктопная версия обернута в `d-none d-md-inline small` (скрыта на мобильных, показана на десктопе с маленьким шрифтом), мобильная версия обернута в `d-block d-md-none` (показана на мобильных, скрыта на десктопе, без `small`). ◉ Установлен UX-принцип адаптивности под тип взаимодействия: увеличение области касания на мобильных устройствах (≈48px) соответствует рекомендациям доступности для touch-интерфейсов, обеспечивая комфортное взаимодействие без случайных промахов. Разделение версий для мобильных и десктопа демонстрирует подход оптимизации под каждую платформу без компромиссов.

## Коммит 3b172f5 от 09.12.2025 : Add header component with menu, model selector and display tabs
◆ Создан компонент хэдера приложения с гамбургер-меню, селектом математической модели, вкладками отображения и кнопками управления (рефреш, смена темы). Хэдер зафиксирован сверху, всегда в темной теме (темный графит), не реагирует на переключалку темы. → Создан компонент `ui/interaction/header.js` с Vue-компонентом хэдера, использующим x-template шаблон. В `index.html` добавлен x-template для хэдера с `position-fixed top-0`, фон `#2b2b2b` (темный графит), тень сверху. Реализованы 3 секции: гамбургер (левая, 50px, SVG иконка для пиксельной четкости), средняя (селект модели и вкладки отображения по центру), правая (кнопки рефреша и смены темы, 2x50px). Гамбургер реализован через SVG (3 горизонтальные линии) для пиксельной четкости вместо Font Awesome иконки. Средняя секция разделена на два инлайн-блока: слева селект математической модели (Медиана/Новости), справа вкладки отображения как Bootstrap радиокнопки (%, Компл. дельты, Градиенты MAX, min, Баланс Δ). Селект стилизован под темный фон: полупрозрачный фон, белый текст, полупрозрачная стрелка через data URI SVG. Вкладки используют Bootstrap классы `btn-group` с `btn-check` для радиокнопок, активная вкладка выделена цветом текста (белый), неактивные - полупрозрачным белым. Кнопки без ободков, только иконки, легкая подсветка при наведении от края до края секции. Добавлен `padding-top: 60px` для контента, чтобы не перекрывался хэдером. Компонент зарегистрирован в `app-ui-root.js` как `app-header`, подключен скрипт в `index.html`. Исправлен доступ к методам корневого компонента через `window.appRoot` для корректной работы переключалки темы. В `ui/interaction/footer.js` добавлены: `isLoading` (флаг загрузки), `loadingSpinnerIndex` (индекс текущего символа), `loadingSpinnerInterval` (интервал анимации), `loadingSpinnerChars` (массив символов: `['|', '/', '-', '\\']`). Реализованы методы `startLoadingSpinner()` и `stopLoadingSpinner()` для управления анимацией (обновление каждые 150мс). Добавлены computed свойства `displayFGI`, `displayVIX`, `displayBTCDom`, `displayOI`, `displayFR`, `displayLSR` для отображения символа анимации во время загрузки или значения метрики после загрузки. В методе `fetchMarketIndices()` установка `isLoading = true` и запуск анимации перед загрузкой, остановка после загрузки или ошибки. В `index.html` значения метрик обернуты в `<span class="font-monospace" style="font-size: 1.05em;">` для моноширинного шрифта с увеличенным размером (1.05em) для визуального совпадения с основным шрифтом. Добавлена очистка интервала в `beforeUnmount()` при размонтировании компонента. ◉ Создана навигационная структура приложения: фиксированный хэдер как постоянная точка доступа к функциям управления. Изоляция хедера в темной теме создает визуальную иерархию и контраст с основным контентом, подчеркивая его роль как управляющего слоя. SVG-гамбургер вместо Font Awesome демонстрирует принцип выбора инструментов под задачу (пиксельная четкость для простых форм). В футере реализован паттерн ретро-анимации загрузки, визуально связывающий интерфейс с классическими терминальными интерфейсами, что создает узнаваемый визуальный язык ожидания.

## Коммит 409a1f2 от 08.12.2025 : Simplify Perplexity quote to philosophical continuation and update daily log
◆ Упрощена функция цитирования Perplexity - убрана логика получения автора, цитата заменена на философское продолжение коммита (одно длинное предложение), улучшен UI поля API-ключа, обновлен дневной лог с добавлением всех недостающих коммитов и хешей. → В `c-ui-splash.js` упрощен метод `fetchQuote()` - убран второй запрос для автора, убрана валидация автора, промпт изменен на генерацию псевдо-философского высказывания (одно длинное предложение) на английском языке, которое интерпретирует или философски развивает смысл коммита без повторения исходного текста. Добавлена обработка ответа: гарантируется начало с большой буквы и окончание точкой. В `index.html` обновлена разметка: цитата отображается как продолжение текста коммита (формат: "Коммит. Философское продолжение."), убраны кавычки и blockquote, убрано отображение автора. Поле ввода API-ключа изменено на `type="password"` (скрыто по умолчанию), добавлен метод `handleApiKeyPaste()` для временного показа текста на 2 секунды после вставки. Поле ввода API-ключа отцентровано через `text-center` класс и inline-стиль. Кнопка сохранения и индикатор успеха переделаны в простые иконки без рамок, без текста, в одну строку, крупнее (1.5em). Убрана вертикальная линия слева от цитаты (border-left). В `history/2025/12-08.txt` добавлены все недостающие коммиты с хешами: `62cdc3e`, `424edd8`, `a3040ed`, `60c91b7`, `696c3e0`, исправлены хеши во всех записях где они отсутствовали, обновлена последняя запись про Perplexity для отражения финального состояния, удален раздел "UX (паттерны взаимодействий)" (объединен с UI). В `core/cfg-app.js` обновлен `lastCommitMessage` на новое значение. ◉ Оптимизирована интеграция Perplexity: сокращение до одного запроса снижает нагрузку и ускоряет загрузку сплэша, сохраняя концептуальную ценность философского контекста. Упрощение UI (убраны кавычки, blockquote, автор) делает высказывание органичной частью текста коммита, усиливая эффект концептуальной преемственности.

## Коммит d5d02e7 от 08.12.2025 : Add Perplexity quote check on splash screen
◆ Добавлена проверка работы Perplexity API на сплэш-экране через генерацию псевдо-философского высказывания (одно длинное предложение), которое продолжает смысл lastCommitMessage. Высказывание отображается сразу после названия коммита как естественное продолжение текста. → В `c-ui-splash.js` добавлен пропс `perplexityModel` для передачи модели Perplexity в компонент, добавлены поля `quote`, `quoteLoading`, `quoteError`, `showApiKeyTemporarily` в data компонента. Реализован метод `fetchQuote()` который делает асинхронный запрос к Perplexity API с промптом на английском языке: создать псевдо-философское высказывание (одно длинное предложение), которое интерпретирует или философски развивает смысл lastCommitMessage. Промпт явно запрещает повторение исходного текста и требует философского развития идеи. Добавлена обработка ответа: убираются кавычки, гарантируется начало с большой буквы и окончание точкой. Метод `fetchQuote()` вызывается автоматически после загрузки API ключа (`loadApiKey()`) и после сохранения нового ключа (`saveApiKey()`), что гарантирует проверку работы Perplexity перед выходом из сплэша. В `index.html` обновлен шаблон сплэша: добавлена точка после `lastCommitMessage`, пробел, затем высказывание отображается как продолжение текста (без кавычек, без blockquote, без автора). Добавлен индикатор загрузки и предупреждение при ошибке. Поле ввода API-ключа изменено на `type="password"` (скрыто по умолчанию), добавлен метод `handleApiKeyPaste()` для временного показа текста на 2 секунды после вставки. Поле ввода API-ключа отцентровано через `text-center` класс и inline-стиль. Кнопка сохранения и индикатор успеха переделаны в простые иконки без рамок, без текста, в одну строку, крупнее (1.5em). Убрана вертикальная линия слева от цитаты (border-left). ◉ Сплэш-экран стал точкой валидации интеграций: автоматическая проверка Perplexity API при входе гарантирует работоспособность сервиса до начала использования. Философское высказывание как продолжение коммита создает связь между техническим прогрессом и концептуальным осмыслением, превращая сплэш в информационно-эстетический элемент интерфейса. Скрытие API-ключа с временным показом при вставке балансирует между безопасностью и удобством.

## Коммит 424edd8 от 08.12.2025 : Harden splash input attributes
◆ Усилены атрибуты безопасности поля ввода PIN на сплэш-экране для предотвращения автозаполнения. → В `index.html` добавлены атрибуты `autocomplete="off"`, `autocorrect="off"`, `autocapitalize="off"`, `spellcheck="false"` к полю ввода PIN. ◉ Усилена безопасность PIN-ввода: отключение автозаполнения предотвращает сохранение PIN в браузерных менеджерах паролей, а отключение автокоррекции исключает искажение ввода, критичное для коротких числовых кодов. Это заложило стандарт безопасности для всех полей ввода чувствительных данных.

## Коммит f38c6bf от 08.12.2025 : Refactor splash screen into Vue component with x-template
◆ Рефакторинг сплэш-экрана из монолитной разметки в отдельный Vue компонент с использованием x-template подхода для разделения HTML и JavaScript логики. → В `index.html` добавлен `<script type="text/x-template" id="splash-template">` с полной разметкой сплэш-экрана (48 строк), разметка удалена из `#app` и заменена на `<splash-screen :last-commit-message="lastCommitMessage"></splash-screen>`. В `c-ui-splash.js` преобразован из функции, возвращающей объект с data/methods, в полноценный Vue компонент: добавлен `template: '#splash-template'`, `props: { lastCommitMessage }`, `data()` возвращает объект вместо объекта в `data`, константы (`DEFAULT_PIN`, `PIN_LENGTH`, `STORAGE_KEY_PIN`, `STORAGE_KEY_API`) перенесены в `data()` для доступа через `this`. В `app-ui-root.js` удален `window.cmpSplash()` из массива `parts` (больше не мержится в главное приложение), добавлена регистрация компонента через `app.component('splash-screen', window.cmpSplash)` перед монтированием. Компонент теперь полностью инкапсулирован: вся логика сплэша (PIN, API-ключ, анимация) находится внутри компонента, не влияет на остальное приложение. ◉ Установлен архитектурный паттерн x-template для Vue-компонентов: разделение HTML-шаблона и JavaScript-логики улучшает читаемость, поддерживаемость и позволяет использовать подсветку синтаксиса в IDE. Инкапсуляция сплэша в отдельный компонент заложила принцип модульности UI-элементов, упростив `index.html` и сделав компонент переиспользуемым.

## Коммит 2430977 от 08.12.2025 : Allow direct splash password temporarily
◆ Упрощён сплэш-экран, пока хеширование не работает с file:// — теперь пароль сравнивается напрямую. → Удалена зависимость от js-sha256 и проверка хеша, пароль сравнивается как строка ("2211"). Убрано подключение библиотеки из `index.html`. ◉ Адаптирована система безопасности под ограничения статического развертывания: прямая проверка пароля без хеширования сохраняет функциональность в среде file://, где Web Crypto API недоступен. Это демонстрирует принцип адаптации архитектурных решений под технические ограничения платформы развертывания.

## Коммит 495d826 от 08.12.2025 : Show last commit name on splash
◆ Перенесено отображение названия последнего пуша внутрь сплэша, прямо под полем PIN. → Убран `lastCommitMessage` из хедера и добавлен `p` с {{ lastCommitMessage }} непосредственно под вводом. Текст стилизован под тёмную тему (`opacity`) и живёт внутри `#app`, как требуют правила. Вывод всегда показывает актуальный `lastCommitMessage`, пока сплэш активен. ◉ Сплэш-экран стал информационным хабом: отображение последнего коммита информирует пользователя о текущей версии приложения, создавая связь между разработкой и пользовательским опытом. Это заложило паттерн использования сплэша как точки контекстной информации при входе.

## Коммит 20d3107 от 08.12.2025 : Make splash act as PIN code
◆ Парольный сплэш теперь работает как PIN-код — ввод обрабатывается моментально, символы видимы, поле остаётся пустым между запусками. → В `c-ui-splash.js` добавлен `handlePinInput`, который триггерит `checkPassword` сразу после ввода четвёртого символа. Поле стало `type="text"` без placeholder и маски, чтобы вводимые цифры были видимыми и поле всегда начиналось пустым. После разблокировки `window.appUnlocked` переводится в `true`, сплэш скрывается, а остальные компоненты запускают запросы через событие `app-unlocked`. ◉ Трансформирован парольный ввод в PIN-паттерн: автоматическая валидация после фиксированного количества символов (4) ускоряет авторизацию, видимость символов повышает уверенность пользователя, отсутствие маски упрощает ввод. Это заложило UX-стандарт быстрой авторизации для приложения.

## Коммит f71ee90 от 08.12.2025 : Auto-focus splash input
◆ Добавлен автофокус на поле ввода пароля сплэша. → В `c-ui-splash.js` добавлен метод `focusInput`, который вызывается при монтировании и каждом показе сплэша. Поле ввода получает `ref="passwordField"`. ◉ Реализован UX-принцип минимального количества действий: автофокус устраняет необходимость клика перед вводом, ускоряя процесс авторизации и улучшая доступность для клавиатурной навигации.

## Коммит 7927917 от 08.12.2025 : Ensure splash blocks external requests until unlock
◆ Гарантировано, что сплэш всегда отображается и что внешние запросы (например, CoinGecko) не запускаются до ввода пароля. → Компонент `c-ui-splash.js` больше не использует `sessionStorage` — сплэш всегда стартует при загрузке и отпускает приложение только после правильного кода. В `c-ui-splash` устанавливается `window.appUnlocked` и отправляется событие `app-unlocked`, по которому компоненты начинают свои запросы. В `c-ui-coingecko.js` добавлен слушатель `app-unlocked`, чтобы запросы к CoinGecko запускались только после разблокировки и не происходили под слоем. Удалены попытки использовать sha256, весь UI доступен внутри `#app`, как прописано в правилах. ◉ Установлен паттерн событийной синхронизации компонентов: сплэш как центральный контроллер доступа, блокирующий все внешние запросы до разблокировки. Это гарантирует, что API-ключи и приватные данные не отправляются до подтверждения авторизации, формируя архитектурный принцип безопасности через событийную модель.

## Коммит a665ce6 от 08.12.2025 : Add password-protected splash screen
◆ Добавлен сплэш-экран с защитой паролем для защиты приложения от случайных посетителей. → Компонент `c-ui-splash.js` реализует прямую проверку пароля "2211", а также анимацию сползания и сохранение статуса в sessionStorage. Сплэш-экран отображается в `index.html` поверх страницы с полем ввода и надписью "Code SMS". Компонент был интегрирован в `app-ui-root.js`. ◉ Введен слой безопасности на уровне UI: сплэш-экран как барьер доступа к приложению, защищающий приватные данные и API-ключи от несанкционированного доступа. Это заложило архитектурный принцип защиты приложения на клиентской стороне, критичный для портативных приложений без серверной аутентификации.

## Коммит fa1e338 от 07.12.2025 : Add CoinGecko top-10 widget (price & % change)
◆ Добавлен виджет CoinGecko с топ-10 монетами (BTC, ETH, SOL, BNB, XRP, ADA, DOGE, TRX, AVAX, DOT), ценами и изменениями за 1h/24h/7d/30d/60d; индикаторы загрузки/ошибки и кнопка обновления. → Создан компонент `cmp-coingecko.js`: запрос к `api.coingecko.com/coins/markets` с `price_change_percentage=1h,24h,7d,30d,60d`, форматирование цены/процентов и класс роста/падения. Подключение компонента в `app.js`; добавлена таблица в `index.html` с responsive-обёрткой и отметкой времени. Обновление данных при загрузке страницы и по кнопке «Обновить»; поддержка работы без ключей и прокси. ◉ Интегрирован первый внешний источник данных (CoinGecko API), заложив паттерн работы с внешними API в проекте. Виджет демонстрирует принцип прозрачности состояния: пользователь всегда видит процесс загрузки и ошибки, что формирует доверие к интерфейсу. Табличное представление данных стало основой для последующего развития системы отображения криптовалютных метрик.

## Коммит 249aee0 от 07.12.2025 : Refactor: вынести Vue в отдельные обычные скрипты без сборки
◆ Разбита логика приложения на отдельные модули-компоненты (`cmp-theme.js`, `cmp-perplexity-settings.js`, `cmp-chat.js`, `cmp-import-export.js`) и собрана в `app.js`. → Тема, настройки Perplexity, чат и импорт/экспорт вынесены в независимые объекты-компоненты, подключаемые в `app.js`. `app.js` агрегирует компоненты, подключает список моделей из конфига, монтирует Vue-приложение и синхронизирует с `localStorage`. `index.html` подключает все скрипты как обычные `<script>` для совместимости с `file://`. ◉ Заложена модульная архитектура компонентов: разделение по функциональным областям (тема, настройки, чат, импорт/экспорт) обеспечивает переиспользуемость, тестируемость и упрощает навигацию по коду. Централизованный стейт через `app.js` гарантирует синхронизацию данных между компонентами без дублирования логики.

## Коммит 8eba1ea от 07.12.2025 : Restore Vue init into external scripts (config.js/app.js)
◆ Вынесена инициализация Vue из инлайна в обычные скрипты `config.js` и `app.js` для работы без сборки и с `file://`. → В `config.js` добавлен `window.appConfig` с дефолтными значениями темы, модели Perplexity и API-ключом по умолчанию. В `app.js` создан `createApp` без `type="module"`: загрузка/сохранение темы и ключа в `localStorage`, форматирование сообщений, экспорт/импорт настроек, автопрокрутка чата. `index.html` теперь подключает глобальный Vue и внешние скрипты `config.js`/`app.js` вместо большого инлайн-блока. ◉ Определена архитектура развертывания без сборки: проект работает как статический набор файлов, запускаемый напрямую из файловой системы. Это критично для портативности (OneDrive, мобильные устройства) и исключает необходимость в серверной инфраструктуре или инструментах сборки, сохраняя при этом полную функциональность Vue-приложения.

## Коммит 4f3def2 от 07.12.2025 : Update dependencies, fix integrity hash, add daily log, update commit rules
◆ Обновлены CDN-ссылки на Bootstrap 5.3.8 и Vue.js 3.5.25 с корректными integrity-хешами и production-сборкой. → Обновлены CDN-ссылки в `index.html` на Bootstrap 5.3.8 (CSS/JS) с валидными SHA-384 хешами. Переключена загрузка Vue на `vue.global.prod.js` версии 3.5.25; отображаемая версия в UI обновлена. ◉ Установлен стандарт безопасности и стабильности зависимостей: integrity-хеши гарантируют защиту от подмены CDN-ресурсов, фиксация версий обеспечивает воспроизводимость сборки и предсказуемое поведение UI независимо от обновлений внешних библиотек.

## Коммит ce3e564 от 06.12.2025 : Remove unused ui.js file
◆ Из UX-цепочки удалён дублирующий скрипт, чтобы не возникало вопросов, где искать обработчики взаимодействий. → Файл удалён через `git rm ui.js`, после чего осталась только Vue-реализация. ◉ Устранено дублирование логики: консолидация всей интерактивности в Vue-компонентах упрощает навигацию по коду и снижает риск рассинхронизации состояний между разными реализациями одной функции.

## Коммит 52f6e11 от 06.12.2025 : Add Font Awesome icons and theme toggle button with dark/light mode support
◆ Логика переключения темы перенесена обратно во Vue-приложение, `data-bs-theme` привязан к `<html>` через реактивные методы. → Атрибут `:data-bs-theme="theme"` повешен прямо на `<html>`, что исключило необходимость внешнего скрипта. Внутри `createApp` добавлены `methods.applyTheme`, `methods.toggleTheme`, `watch.theme` и загрузка из `localStorage` в `mounted`. Кнопка осталась в UI, но теперь напрямую вызывает Vue-метод, а `localStorage` обновляется из компонента. Атрибут `title` продолжает информировать пользователя, какой режим включится при нажатии. ◉ Консолидирована логика темы внутри Vue-экосистемы: реактивное связывание `data-bs-theme` на корневом элементе обеспечивает мгновенное каскадное применение темы ко всем Bootstrap-компонентам без гонок состояний. Это заложило архитектурный паттерн централизованного управления темой через единую точку истины в Vue-состоянии.

## Коммит 7be4bde от 06.12.2025 : Add Font Awesome, theme toggle button, and extract UI functionality to ui.js
◆ Добавлены иконки Font Awesome и плавающая кнопка переключения темы, логика вынесена в `ui.js`. → В `<head>` подключён Font Awesome 6.5.1 через CDN. В интерфейсе появился блок `position-fixed top-0 end-0` с круглой кнопкой (`btn btn-outline-secondary`), которая вызывает `toggleTheme`. Создан файл `ui.js`: функции `initThemeToggle`, `applyTheme`, `toggleTheme`, watcher `theme`, загрузка/сохранение `localStorage` и установка `data-bs-theme` на `<html>`. На кнопку назначены `title`-подсказки (о смене светлой/тёмной темы), а позиционирование `position-fixed` даёт постоянный доступ. ◉ Введена система иконок Font Awesome как стандарт визуального языка проекта. Реализован UX-паттерн персистентного переключения темы: пользовательский выбор сохраняется между сессиями, обеспечивая непрерывность визуального опыта. Плавающая кнопка с фиксированным позиционированием гарантирует постоянную доступность функции независимо от прокрутки контента.

## Коммит e5ae56d от 06.12.2025 : Remove style section, use Bootstrap classes only; add Bootstrap styling rule to .cursorrules
◆ Удалён единственный `<style>` блок, весь декор переведён на Bootstrap-утилиты. → Из `index.html` убраны кастомные CSS, `style="min-height: 100vh"` заменён на утилиту `min-vh-100` и соответствующие классы Bootstrap. ◉ Установлен архитектурный принцип приоритета Bootstrap-утилит над кастомными стилями: это обеспечивает единообразие, упрощает поддержку и гарантирует автоматическую адаптивность через встроенные медиа-запросы Bootstrap, минимизируя необходимость в дополнительных CSS-правилах.

## Коммит e245cda от 06.12.2025 : Add Principles section and Vue.js 3 + Bootstrap 5 integration
◆ Подключены Bootstrap 5.3.2 и Vue 3, добавлен контейнер приложения и стартовый Vue-компонент. → В `<head>` добавлен CDN Bootstrap CSS (с `integrity`/`crossorigin`), а перед закрытием `</body>` – Bootstrap JS bundle. Подключён Vue 3 (`https://unpkg.com/vue@3/dist/vue.global.js`), создан `createApp({ data, mounted })` и смонтирован в `#app`. В разметке добавлен `container-fluid` с заголовками и местом под будущие виджеты. ◉ Определен технологический стек проекта: Vue.js как реактивный фреймворк для динамики и Bootstrap как система стилизации. Это заложило архитектурный принцип разделения ответственности: Vue управляет состоянием и логикой, Bootstrap обеспечивает визуальную консистентность и адаптивность.

## Коммит 44bd5af от 06.12.2025 : Initial commit: add minimal HTML structure
◆ Пустой файл заменён валидной HTML5-разметкой с базовыми метатегами и заголовком. → Добавлены `<!DOCTYPE html>`, `<html lang="ru">`, `meta charset="UTF-8"`, `meta viewport` и `<title>`. Коммит оформлен командой `"C:\Program Files\Git\bin\git.exe" commit -m "Initial commit: add minimal HTML structure"`. ◉ Установлен стандарт валидной HTML5-структуры с корректной кодировкой и адаптивным viewport, обеспечивающий базовую совместимость и готовность к интеграции современных библиотек без конфликтов кодировки или отображения.

## Коммит 03a174a от 06.12.2025 : Start
◆ Инициализирован Git-проект и добавлен пустой `index.html` для контроля версий фронтенда. → Выполнен `git init`, создан файл `index.html` (пока без разметки) и добавлен в репозиторий через `git add index.html`. Коммит создан через полный путь к `git.exe`. ◉ Заложен фундамент для версионирования UI-эволюции: пустой HTML-файл как точка отсчета, позволяющая отслеживать все последующие изменения разметки и стилей в единой истории репозитория.