




























На основании нашей сегодняшней переписки в чате проведи полную ревизию документации и приведи документацию в полное соотвествие с ФАКТИЧЕСКИМ состоянием кодовой базы










П: на будущее, перед выполнением любого задания пользователя - читать что говорит, рекомендует и предписывает документация проекта по данному вопросу.
-------------------------
1. Пусть эти 2 review и все последующие сборники такого рода относятся в будушем к документации.
2. Пусть они имеют единый управляющий внешний js-файл
3. Пусть они имеют единую таблицу стилей отдельным файлом
4. Добавь к каждому единый компонент хедера с красивыми вкладками (можно в стиле 2010-х) для переключения между разными review, этот компонент храни в том же js который обслуживает все review
-------------------------------
Теперь надо найти во всей кодовой базе все вхождения подстроки "архив". Если это встретится в комментарии - то надо тщательно переписать комментарий под новую концепцию (поменять либо удалить). Если втсретится в документации - то тоже переписать в зависимости от контекста - либо предложение, либо абзац. Надо чтоб не осталось в проекте упоминания про архив. Почему. Потому что это слово в дальнейших планах разработки будет относиться к иной функциональности. Таким образом мы избавимся от рисков путаницы в проекте по этому поводу. ВНИМАНИЕ!: логи рабочих дней не трогаем, там слово "архив" остается так как соотвествует записям в репозитории!!!
-------------------------------
П: нам предстоит поменять концепт Архива монет. Он более не архив, а хранилище Избранного, причем любого избранного, но пока там будет 1 объект хранения - это монеты. 
Надо сейчас функциональность добавления которая есть для архива - перелить в этот новый компонент архива. Клик на пункт в выпадающем списке Избранного будет приводить к добавлению монеты, если ее ещё нет в текущей таблице. А если в текущей таблице какие-то монеты есть, то об этом говорят отмеки справа от тикера на некоторых пунктах с монетами. Мы уже сделали пункт добавления в избранное но я не помню завязан ли он уже на хранение списка монет избранного. давай разбираться
--------------------------------------
перед тем как продолжить миграцию, доделаем компоненты.
Надо сделать компонент пункта меню (начнем с простецкого): иконка - команда - отметка/указатель
отметка/указатель - один объект для 2 целей:
- либо как индикатор статусов (выбрано/недоступно/...)
- либо как язычок переходов (во вложенное меню/наружу в интернет/в модалку)
проработай и предложи - потом займемся компонентом выпадающего списка
-------------------------
да, это уже получше, но 
text-danger должен быть ещё более малиновый и ещё более яркий
2. давай проверим как будет работать проброска в компонент числовой ячейки для правила.
Когда единица изменения "%" и одновременно с этим находимся в строке с монетой (будущий компонент ячейки @TODO.TXT (68-110)  ), то: 
• все спаны имеют один цвет приравненный к знаку числа
• близкие к 0 (+\-1%) - имеют все спаны text-muted
• расстояние между символами слегка разреженное (внести в глобальный стиль, если такого нет в бутстрапе)
---------------------------------------------
Требуется создать vue-компоненты для следующих элементов интерфейса.
Обрати внимание, что мои вымышленные названия для параметров - 
могут не совпадать с теми, которые уже возможно присутствуют в коде.
Тогда ты можешь взять в компонет уже существующее имя параметра,
чтобы минимизировать внедрение компонента и его отладку.
Нам предстоит создать серию компонентов для ячеек таблиц:
1. числовая ячейка таблицы cell-num;
2. ячейка монеты cell-coin
3. ячейка выбора строки таблицы cell-row-select
Начнем по порядку, последовательно, начиная с первого.
-------------------
1.  числовая ячейка таблицы cell-num
    на вход поступит: 
    - число в десятичном формате
      будет преобразовано:
      <префикс><знак><###>...<###><###><разделитель><###><ед_измерения>
      по данному формату "разделитель" сможет быть десятичным,
      либо служить контейнером для слеша (знака деления).
      Целая часть числа (мантисса ) разбивается тройками <###>
      их число зависит от величины числа, что показано многоточием
    параметры отображения:
    - тип числа (целое, дробь, десятичная дробь)
    - округление
      • до N знака после запятой
      • до N значащих цифр
      • до целой / до половины значащей цифры 
      (например: округлять до 0.01 и 0.1 или до 0.05 и 0.5 - соответственно)
    - разделитель десятичный (,/.)
    - разделитель разряда (пробел/неразрывный пробел/запятая)
    - знаковость (положительность/0/отрицательность)
    - значения секторов - массив пар значений [интервал_значений_числа+CSSкласс,...]
    - назначенные символы + и - [массив utf-символов]
    - назначенный префикс (строка)
    - назначенная единица измерения (строка)
    - назначенные классы css - массив [<ячейка>,<префикс>,<+>,<->,<дробная_часть>,<ед_измерения>]
| Параметр | Тип | По умолчанию | Описание |
|----------|-----|--------------|----------|
| `value` | number | 0 | Исходное число в десятичном формате |
| `type` | 'integer' \| 'decimal' \| 'fraction' | 'decimal' | Целое / десятичная дробь / дробь со слешем |
| `rounding` | 'precision' \| 'significant' \| 'step' | 'precision' | Способ округления: знаки/значимые/шаг |
| `precision` | number | 2 | Знаки после запятой / значимых цифр (0-10) |
| `roundingStep` | number | 0.01 | Шаг округления (0.01, 0.05, 0.1, 0.5) |
| `decimalSeparator` | ',' \| '.' | ',' | Десятичный разделитель (для decimal) |
| `fractionSlash` | boolean | false | Использовать слеш `/` вместо запятой (для fraction) |
| `thousandsSeparator` | ' ' \| '&nbsp;' \| ',' \| '' | ' ' | Разделитель разрядов каждые 3 цифры |
| `maxDigits` | number | 12 | Максимум цифр в целой части (с научной нотацией) |
| `signDisplay` | 'auto' \| 'always' \| 'never' | 'auto' | Показывать знак: auto(+/- только при необходимости)/всегда/никогда |
| `forceZeroSign` | boolean | false | Показывать знак для нуля (0 → +0 или −0) |
| `sectors` | Array<{range: [number, number], cssClass: string}> | [] | Цветовые сектора: [[-∞,0,'red'], [0,∞,'green']] |
| `defaultSectorClass` | string | '' | CSS-класс по умолчанию (если нет сектора) |
| `prefix` | string | '' | Префикс: '$', '€', '%' |
| `unit` | string | '' | Единица измерения: '₽', 'kg', 'ms' |
| `signSymbols` | {plus: string[], minus: string[]} | {plus:['+'], minus:['−']} | Символы: {plus:['➕','+'], minus:['➖','−']} |
| `emptyValue` | string | '—' | Отображение для NaN/null/undefined |
| `infinityDisplay` | '∞' \| '∞∞' \| 'N/A' | '∞' | Отображение ±∞ |
| `locale` | 'ru' \| 'en' \| 'de' \| 'auto' | 'auto' | Авто-разделители по локали |
| `showTooltip` | boolean | false | Tooltip с полным значением |
| `cssClasses` | {cell: string, prefix: string, sign: string, fraction: string, unit: string} | {} | CSS-классы частей числа |
---------------------------------------------------------------
2.  ячейка монеты cell-coin
    на вход поступит: 
    - тикер монеты и её данные
      будет преобразовано:
      [иконка]<тикер>[бейджи]...<бейдж><полное_название>[мини-график]
      по данному формату "бейджи" смогут быть секторами крипты,
      либо индикаторами статуса (новое листинг, стейблкоин, тренд)
      количество бейджей зависит от характеристик монеты, что показано многоточием
    параметры отображения:
    - иконка монеты (URL)
    - тикер (BTC, ETH, USDT)
    - полное название монеты (Bitcoin, Ethereum)
    - сектор крипты (Layer1, DeFi, Stablecoin, Meme)
    - статус нового листинга (да/нет)
    - корреляция с BTC (-1..1)
    - ранг по капитализации (#1, #42)
    - статус трендовости (да/нет)
    - бейджи сетей (ETH, BSC, SOL)
    - статус избранного (да/нет)
    - контекстное меню (да/нет)
    - действия меню (Открыть/В_архив/Удалить)
    - режим драггабл (да/нет)
    - назначенные классы css - массив [<ячейка>,<иконка>,<тикер>,<бейдж>,<название>,<график>]
| Параметр | Тип | По умолчанию | Описание |
|----------|-----|--------------|----------|
| `iconUrl` | string | '' | URL иконки монеты (32x32px, WebP) |
| `ticker` | string | '' | Тикер: BTC, ETH, USDT (верхний регистр) |
| `fullName` | string | '' | Полное название: Bitcoin, Ethereum |
| `category` | string \| Array<string> | '' | Сектор: Layer1, DeFi, Stablecoin, Meme |
| `isNewListing` | boolean | false | Новое листинг (бейдж "NEW" <7 дней) |
| `btcCorrelation` | number (-1..1) | 0 | Корреляция с BTC (0.95=зелёный, -0.3=красный) |
| `marketCapRank` | number | null | Ранг по капитализации (#1, #42) |
| `isTrending` | boolean | false | В топе трендов (огненный badge) |
| `chainBadges` | Array<string> | [] | Сети: ETH, BSC, SOL, ARB |
| `sparklineUrl` | string | '' | URL мини-графика 7д (опционально) |
| `isFavorite` | boolean | false | Звёздочка избранного (золотая) |
| `contextMenu` | boolean | false | Показывать контекстное меню (ПКМ) |
| `menuActions` | Array<string> | ['open', 'archive', 'delete'] | Действия: Открыть/В архив/Удалить |
| `chartUrl` | string | '' | Ссылка на график монеты |
| `draggable` | boolean | false | Режим drag'n'drop (хватание мышью) |
| `dragData` | object | {} | Данные для drop зоны (id, ticker) |
| `cssClasses` | {cell: string, ticker: string, name: string, badge: string, sparkline: string, menu: string} | {} | CSS-классы частей ячейки |
--------------------------------------------------------------
3.  ячейка выбора строки таблицы cell-row-select
    на вход поступит: 
    - данные строки и её статус
      будет преобразовано:
      [чекбокс][статус]...<статус><индикатор_группы>
      по данному формату "статусы" смогут быть индикаторами выделения,
      либо состояниями строки (заблокировано, предупреждение, группа)
      количество статусов зависит от состояния строки, что показано многоточием
    параметры отображения:
    - статус выделения (выделено/не_выделено/частично)
    - доступность для выбора (активно/заблокировано)
    - статусы строки (группа/заголовок/итоговая/предупреждение)
    - режим множественного выбора (одиночный/множественный/групповой)
    - номер строки (1, 2, 3...)
    - индикатор группы (A, B, C...)
    - выделенные строки (массив ID)
    - назначенные классы css - массив [<ячейка>,<чекбокс>,<статус>,<группа>]
| Параметр | Тип | По умолчанию | Описание |
|----------|-----|--------------|----------|
| `checked` | 'true' \| 'false' \| 'indeterminate' | 'false' | Статус чекбокса: выделено/не выделено/частично |
| `disabled` | boolean | false | Чекбокс заблокирован (серый) |
| `rowStatus` | 'normal' \| 'header' \| 'summary' \| 'warning' \| 'error' | 'normal' | Тип строки: обычная/заголовок/итог/предупреждение |
| `selectionMode` | 'single' \| 'multiple' \| 'group' | 'multiple' | Режим выбора |
| `rowNumber` | number | null | Номер строки (#1, #2...) |
| `groupId` | string | '' | ID группы (A, B, C...) |
| `selectedRows` | Array<string> | [] | ID выделенных строк (для indeterminate) |
| `rowId` | string | '' | Уникальный ID строки / хэш |
| `badges` | Array<{type: string, label: string}> | [] | Доп. статусы: [locked][vip][new] |
| `showRowNumber` | boolean | true | Показывать #1 #2... |
| `bulkActions` | boolean | false | Показывать групповые действия |
| `cssClasses` | {cell: string, checkbox: string, status: string, group: string, number: string} | {} | CSS-классы частей ячейки |